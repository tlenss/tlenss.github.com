
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Mootools FX.Slide Flicker bug - Thijs Lensselink's Blog</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Mootools FX.Slide Flicker Bug When my coworker decided to use mootools for a project we are working on. I decided to give it a try also. I decided &hellip;">
    
    <meta name="author" content="Thijs Lensselink">
    
    <link rel="canonical" href="http://blog.lenss.nl/2008/06/mootools-fxslide-flicker-bug/">
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="http://feeds.feedburner.com/ThijsLensselinksBlog" rel="alternate" title="Thijs Lensselink's Blog" type="application/atom+xml">

    <link href="/stylesheets/screen.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap-theme.min.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap-responsive.css" rel="stylesheet">
    <link href="/stylesheets/font-awesome.min.css" rel="stylesheet">
    <link href="/stylesheets/lenss.css" rel="stylesheet">
    
  </head>


<body   >

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><i class="fa fa-linux"></i> lenss<span class="lenssnl">.nl/blog</span></a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="http://lenss.nl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Www']);">Home</a></li>
            <li class="active"><a href="http://blog.lenss.nl/" class="lenssnl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Blog']);">Blog</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="row">

        <div class="col-sm-8">
	
          <div id="content">
	      <div class="inner">
	      <div>
<article class="hentry" role="article">
  
<header>
	<header>
	
	  <h1 class="entry-title">Mootools FX.Slide Flicker Bug</h1>
	
	</header>
</header>


<div class="articletext"><p>When my coworker decided to use <a href="http://mootools.net/">mootools</a> for a project we are working on. I decided to give it a try also.</p>

<p>I decided to use the <a href="http://docs.mootools.net/Plugins/Fx.Slide">FX.Slide</a> effect on some tab based boxes. This was pretty straight forward. The mootools library is pretty easy in usage. And the documentation is darn good. Bellow i will show how to add the most basic FX.Slide effect. This is directly copied from the mootools <a href="http://docs.mootools.net/">manual</a>.</p>

<p>To create the sliding effect all you need is the following lines of javascript.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
window.addEvent(<span class="string"><span class="delimiter">'</span><span class="content">domready</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {

  <span class="comment">// create an instance of the FX.Slide object</span>
  <span class="keyword">var</span> mySlide = <span class="keyword">new</span> Fx.Slide(<span class="string"><span class="delimiter">'</span><span class="content">test</span><span class="delimiter">'</span></span>);

  <span class="comment">// Attach the click event to the wrapper div</span>
  <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">toggle</span><span class="delimiter">'</span></span>).addEvent(<span class="string"><span class="delimiter">'</span><span class="content">click</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(e) {
    e = <span class="keyword">new</span> Event(e);
    mySlide.toggle();
    e.stop();
  });
});
</pre></div>
</div>
 </figure></notextile></div>

<p>And of course some HTML to represent the sliding elements.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="tag">&lt;h3</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">section</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Fx.Slide Vertical<span class="tag">&lt;/h3&gt;</span>

<span class="tag">&lt;a</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">toggle</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>toggle<span class="tag">&lt;/a&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
foo
<span class="tag">&lt;/div&gt;</span>
</pre></div>
</div>
 </figure></notextile></div>

<p>And some CSS to cover it all in a nice sauce.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="constant">#test</span> {
  <span class="key">background</span>: <span class="color">#222</span>;
  <span class="key">color</span>: <span class="color">#fff</span>;
  <span class="key">padding</span>: <span class="float">10px</span>;
  <span class="key">margin</span>: <span class="float">20px</span>;
  <span class="key">border</span>: <span class="float">10px</span> <span class="value">solid</span> <span class="value">pink</span>;
}
</pre></div>
</div>
 </figure></notextile></div>

<p>So this looks great. It functions well. And the sliding is very smooth. There is one small problem though. When the wrapper contains an element with a style attribute overflow set to “auto”. The sliding will cause a flicker effect on the page. This is probably caused by rescaling the wrapper. Witch in it’s turn rescales the element with attribute overflow set to auto.</p>

<p>I didn’t really try to figure out why this happens. Maybe that’s a later project. But i did come up with a small fix. When a slide object is created. FX.Slide wraps a div around the container that will slide in and out. This wrapper has the attribute overflow set to hidden. I couldn’t figure out why overflow is set to hidden on this wrapper. So i added the ability to set it through the options object. When overflow is set to auto the flicker bug disappears. To add this feature we need to add some small changes to the FX.Slide class.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="type">options</span>: {
  <span class="key">mode</span>: <span class="string"><span class="delimiter">'</span><span class="content">vertical</span><span class="delimiter">'</span></span>
},
</pre></div>
</div>
 </figure></notextile></div>

<p>First we change the code above to reflect the code below:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="type">options</span>: {
  <span class="key">mode</span>: <span class="string"><span class="delimiter">'</span><span class="content">vertical</span><span class="delimiter">'</span></span>,
  <span class="value">overflow</span>: <span class="string"><span class="delimiter">'</span><span class="content">hidden</span><span class="delimiter">'</span></span>
},
</pre></div>
</div>
 </figure></notextile></div>

<p>Then on the third line of the initialize function we change:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="local-variable">this</span>.wrapper = <span class="keyword">new</span> Element(<span class="string"><span class="delimiter">'</span><span class="content">div</span><span class="delimiter">'</span></span>, {<span class="key"><span class="delimiter">'</span><span class="content">styles</span><span class="delimiter">'</span></span>: <span class="predefined">$extend</span>(<span class="local-variable">this</span>.element.getStyles(<span class="string"><span class="delimiter">'</span><span class="content">margin</span><span class="delimiter">'</span></span>), {<span class="key"><span class="delimiter">'</span><span class="content">overflow</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">hidden</span><span class="delimiter">&quot;</span></span>})}).injectAfter(<span class="local-variable">this</span>.element).adopt(<span class="local-variable">this</span>.element);
</pre></div>
</div>
 </figure></notextile></div>

<p>To:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="local-variable">this</span>.wrapper = <span class="keyword">new</span> Element(<span class="string"><span class="delimiter">'</span><span class="content">div</span><span class="delimiter">'</span></span>, {<span class="key"><span class="delimiter">'</span><span class="content">styles</span><span class="delimiter">'</span></span>: <span class="predefined">$extend</span>(<span class="local-variable">this</span>.element.getStyles(<span class="string"><span class="delimiter">'</span><span class="content">margin</span><span class="delimiter">'</span></span>), {<span class="key"><span class="delimiter">'</span><span class="content">overflow</span><span class="delimiter">'</span></span>: <span class="local-variable">this</span>.options.overflow})}).injectAfter(<span class="local-variable">this</span>.element).adopt(<span class="local-variable">this</span>.element);
</pre></div>
</div>
 </figure></notextile></div>

<p>When all this is done and we want to create a FX.Slide object without the flicker bug. We add the options parameter. The constructor will make sure the right value is used.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="keyword">var</span> mySlide2 = <span class="keyword">new</span> Fx.Slide(<span class="string"><span class="delimiter">'</span><span class="content">test</span><span class="delimiter">'</span></span>, {<span class="key">overflow</span>: <span class="string"><span class="delimiter">'</span><span class="content">auto</span><span class="delimiter">'</span></span>});

<span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">toggle</span><span class="delimiter">'</span></span>).addEvent(<span class="string"><span class="delimiter">'</span><span class="content">click</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(e){
  e = <span class="keyword">new</span> Event(e);
  mySlide2.toggle();
  e.stop();
});
</pre></div>
</div>
 </figure></notextile></div>

</div>


<div style="clear:both;"></div>

  <footer>
    <p class="meta">
      
      








  


<time datetime="2008-06-10T10:43:19+02:00" pubdate data-updated="true">Jun 10<span>th</span>, 2008</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>
  
</span>


    </p>
    <p class="meta">
      
        <a class="basic-alignment left" href="http://blog.lenss.nl/2008/06/hide-project-files-from-svn-in-zend-studio-for-eclipse/" title="Previous Post: Hide .project files from SVN in Zend Studio for Eclipse">&laquo; Hide .project files from SVN in Zend Studio for Eclipse</a>
      
      
        <a class="basic-alignment right" href="http://blog.lenss.nl/2008/06/dutch-php-conference/" title="Next Post: Dutch PHP Conference">Dutch PHP Conference &raquo;</a>
      
    </p>
  </footer>
</article>

<div>

  <div class="sharing">
   
    <div class="fb-like" data-send="true" data-width="450" layout="button_count" data-show-faces="false"></div>
  
  <script id='fb3vnkm'>(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=tlenss&button=compact&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=20;f.width=110;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fb3vnkm');</script>
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://blog.lenss.nl/2008/06/mootools-fxslide-flicker-bug/" data-via="tlenss" data-counturl="http://blog.lenss.nl/2008/06/mootools-fxslide-flicker-bug/" >Tweet</a>
  
</div>




  <section>
     <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'tlenss'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

  </section>

</div>
</div>

<section class="ad">
	<script type="text/javascript"><!--
	google_ad_client = "ca-pub-0921745317573569";
	/* nlblue_content */
	google_ad_slot = "0947700644";
	google_ad_width = 728;
	google_ad_height = 90;
	//-->
	</script>
	<script type="text/javascript"
	src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
</section>

	      </div>
	  </div>

        </div>

        <div class="col-sm-4 col-sm-offset-0 blog-sidebar">
	    <div id="sidebar">
	       
	           
<div class="sidebox">
	<div class="me">
		<a href="http://www.zend.com/store/education/certification/yellow-pages.php#show-ClientCandidateID=ZEND006598"><img src="http://blog.lenss.nl/images/php5-zce-logo-new.gif" height="50" /></a>
		<a href="http://stackoverflow.com/users/476697/tlenss">
			<img src="http://stackoverflow.com/users/flair/476697.png?theme=dark" width="179" height="50" alt="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
		</a>
		<div class="gpg">
			Key ID : <a href="http://blog.lenss.nl/C773940D.asc">0xC773940D</a><br/>
			Fingerprint : 9AF2 38D6 3172 2F3E 112F 9024 C558 F5CD C773 940D
		</div>
	</div>
</div>

<section>
  <div class="sidebox">
	<h1>Recent entries</h1>
	<ul class="linklist">
		
		<li><a href="http://blog.lenss.nl/2013/11/first-weekday-of-month-in-php/">Get the first weekday of the month in PHP</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/git-move-folder-containing-submodules/">Renaming a folder in git that contains submodules</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/clover-forcast-for-php-in-jenkins/">Fixing the clover forcast for PHP projects in Jenkins</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/08/github-and-multiple-ssh-keys/">Github, SSH and multiple repositories</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/07/memory-exhaust-issue-PHP-and-APM/">Memory exhaust issue PHP and APM</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/06/php-55-released/">PHP 5.5.0 released</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/03/casting-weirdness-with-PHP/">Casting weirdness with PHP</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/02/zend-optimizer%2B-integrated-in-5.5/">Zend Optimizer+ integrated into 5.5</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/02/phpness-serious-wtf/">PHPness Serious WTF</a></li>
		
		<li><a href="http://blog.lenss.nl/2012/11/publish-google-reader-shared-items/">Publish Google Reader shared items</a></li>
		
	</ul>
</div>
</section>

<div class="sidebox ad">
	<script type="text/javascript"><!--
	google_ad_client = "ca-pub-0921745317573569";
	/* nlblue_side */
	google_ad_slot = "7706621160";
	google_ad_width = 300;
	google_ad_height = 250;
	//-->
	</script>
	<script type="text/javascript"
	src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
</div>
<div class="sidebox">
	<h1>Tags</h1>
	<ul id="tag-cloud" class="blocklist"><a href='http://blog.lenss.nl/tag/-home' style='font-size: 116.0%'>/home(32)</a> <a href='http://blog.lenss.nl/tag/code' style='font-size: 160.0%'>Code(120)</a> <a href='http://blog.lenss.nl/tag/design' style='font-size: 103.0%'>Design(6)</a> <a href='http://blog.lenss.nl/tag/freelance' style='font-size: 102.0%'>Freelance(4)</a> <a href='http://blog.lenss.nl/tag/git' style='font-size: 101.0%'>Git(2)</a> <a href='http://blog.lenss.nl/tag/google' style='font-size: 101.5%'>Google(3)</a> <a href='http://blog.lenss.nl/tag/javascript' style='font-size: 104.0%'>Javascript(8)</a> <a href='http://blog.lenss.nl/tag/jenkins' style='font-size: 100.5%'>Jenkins(1)</a> <a href='http://blog.lenss.nl/tag/jquery' style='font-size: 101.0%'>Jquery(2)</a> <a href='http://blog.lenss.nl/tag/magento' style='font-size: 101.0%'>Magento(2)</a> <a href='http://blog.lenss.nl/tag/php' style='font-size: 135.0%'>PHP(70)</a> <a href='http://blog.lenss.nl/tag/security' style='font-size: 104.0%'>Security(8)</a> <a href='http://blog.lenss.nl/tag/sql' style='font-size: 103.0%'>SQL(6)</a> <a href='http://blog.lenss.nl/tag/tech' style='font-size: 149.0%'>Tech(98)</a> <a href='http://blog.lenss.nl/tag/zend' style='font-size: 104.0%'>Zend(8)</a> </ul>
	<div style="clear:both;"></div>
</div>
<section>
  <div class="sidebox">
	<h1>GitHub Repos</h1>
	
	<ul class="linklist" id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/tlenss" class="github-follow-button">Follow On GitHub</a>
  
</div>
</section>


<section>
  <div class="sidebox">
	<!-- <h1>Latest Tweets</h1> -->
<a class="twitter-timeline" href="https://twitter.com/tlenss" data-widget-id="408894330036703232">Tweets by @tlenss</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
</section>


	       
	    </div>
        </div>

      </div>

    </div>

    <script src="http://blog.lenss.nl/javascripts/jquery-2.1.0.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/bootstrap-3.1.1.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/modernizr-2.0.js"></script>
    <script src="http://blog.lenss.nl/javascripts/ender.js"></script>
    <script src="http://blog.lenss.nl/javascripts/octopress.js"></script>
    <script src="http://blog.lenss.nl/javascripts/github.js"></script>
    <script src="http://blog.lenss.nl/javascripts/twitter.js"></script>
    <script src="http://blog.lenss.nl/javascripts/jquery.cookie.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/adn-timeline.js"></script>
    <script src="http://octophile.com/widgets.js"></script>
    <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = 'http://blog.lenss.nl/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tlenss',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8003524-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  </body>
</html>
