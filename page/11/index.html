
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Thijs Lensselink's Blog</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Move GNOME Panels in Ubuntu 9.04 Some days ago i updated my Ubuntu Intrepid Ibex to the new Jaunty Jackalope. Besides some minor glitches everything &hellip;">
    
    <meta name="author" content="Thijs Lensselink">
    
    <link rel="canonical" href="http://blog.lenss.nl/page/11/">
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="http://feeds.feedburner.com/ThijsLensselinksBlog" rel="alternate" title="Thijs Lensselink's Blog" type="application/atom+xml">

    <link href="/stylesheets/screen.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap-theme.min.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap-responsive.css" rel="stylesheet">
    <link href="/stylesheets/font-awesome.min.css" rel="stylesheet">
    <link href="/stylesheets/lenss.css" rel="stylesheet">
    
  </head>


<body   >

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><i class="fa fa-linux"></i> lenss<span class="lenssnl">.nl/blog</span></a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="http://lenss.nl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Www']);">Home</a></li>
            <li class="active"><a href="http://blog.lenss.nl/" class="lenssnl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Blog']);">Blog</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="row">

        <div class="col-sm-8">
	
          <div id="content">
	      <div class="inner">
	      <div class="blog-index">
  
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/04/move_gnome_panels_ubuntu/">Move GNOME Panels in Ubuntu 9.04</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Some days ago i updated my Ubuntu <a href="http://releases.ubuntu.com/8.10/">Intrepid Ibex</a> to the new <a href="http://releases.ubuntu.com/9.04/">Jaunty Jackalope</a>. Besides some minor glitches everything works smoothly. One small issue however annoyed me. </p>

<p>I always work with a dual monitor setup. And i like to have a <a href="http://www.gnome.org/">GNOME</a> panel on every screen. So normally i would just create a new panel and drag it to the second screen. This doesn’t seem to work anymore. Or maybe it’s just a bug. After some playing around with the panel settings i found a small work around.</p>

<p>So to add an extra panel to the desktop. Just right click on the main panel and choose “New Panel”.</p>

<p><img src="http://blog.lenss.nl/images/2009/04/gnome_movepanel_1.png" /></p>

<p>This will create a new panel at the bottom of the screen. When you right click this panel and ask for the properties. You can change the way the panel behaves. The expand checkbox is selected by default. So just uncheck it. And the bottom panel shrinks. The bottom panel now has two dotted areas on the left and right sight of the panel. Clicking and holding down these areas makes it possible to drag the panel across screens.</p>

<p><img src="http://blog.lenss.nl/images/2009/04/gnome_movepanel_3-215x300.png" /></p>

<p>When the panel is at the right location. Just drop it and check the expand box again. Which results to the image below.</p>

<p><img src="http://blog.lenss.nl/images/2009/04/gnome_movepanel_5-300x93.jpg" /></p>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/04/move_gnome_panels_ubuntu/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-04-18T14:27:42+02:00" pubdate data-updated="true">Apr 18<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/04/two-character-domain/">Two Character Domain</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>My feed reader today showed the <a href="http://ilia.ws/index.php?url=archives/197-5-Letter-Domain-ia.gd.html">post</a> from “<a href="http://ilia.ws/">Ilia Alshanetsky</a>” a well respected PHP core developer. The goal of Ilia was to find the shortest domain possible for his blog. So there will be no need to use URL shortener’s. This made me think about my own little travel over the Internet to find a two character domain. It took my quite some time to find a registrar and top-level domain that actually allowed registering domains shorter then 3 characters. Ilia found his relieve in the .gd (Grenada) domain. And i myself found mine in the .vc (Saint Vincent) domain. So it’s still possible to get short domain names. It just takes a bit of research and time :)</p>

<p>I tried commenting on his post. But he either disabled the commenting. Or i just can’t get the CAPTCHA right.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/04/two-character-domain/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-04-14T17:36:14+02:00" pubdate data-updated="true">Apr 14<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/-home/'>/home</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/04/getting-used-to-the-new-office/">Getting Used to the New Office</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Last week was the big move for us. We were first located on the <a href="http://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=Brouwersgracht,+Amsterdam&amp;sll=37.0625,-95.677068&amp;sspn=53.300127,114.257812&amp;ie=UTF8&amp;z=16&amp;iwloc=A">Brouwersgracht</a> in Amsterdam. But it was getting to small for us. Besides we wanted to team up with some other smart people. So we decided for a bigger office. This time on the <a href="http://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=Herengracht+416,+Amsterdam&amp;sll=37.0625,-95.677068&amp;sspn=53.300127,114.257812&amp;ie=UTF8&amp;z=16">Herengracht</a> in some old “<a href="http://nl.wikipedia.org/wiki/Grachtenpand">grachtenpand</a>”. Right in the center of Amsterdam. What a location. And i am not even speaking of the great nostalgic looks of the office i am in right now. I will try to post some images later this week.</p>

<p>It took us about a week to get ready in the new office. And not everything has it’s place yet. But that’s just a matter of time i guess. We are still waiting for a new fast Internet connection. So for the time being we are sharing a line with another office. This of course leads to some security issues. But we will manage until the new connection is delivered.</p>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/04/getting-used-to-the-new-office/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-04-14T17:25:01+02:00" pubdate data-updated="true">Apr 14<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/-home/'>/home</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/disable-skype-icons-on-a-website/">Disable Skype Icons on a Website</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>My boss today showed me one of our websites. And the layout was not displayed how it should be. On my development station however there was no problem with viewing the same page. And my boss pointed me to the Skype icon on the contact page. Because he had Skype installed. And with the <a href="https://developer.skype.com/SkypeToolbars">Skype toolbar</a> for browsers enabled a small icon is inserted in pages that have data that looks like a phone number.</p>

<p><a href="http://blog.lenss.nl/images/2009/03/egypte_phone.png"><img src="http://blog.lenss.nl/images/2009/03/egypte_phone.png" alt="egypte_phone" /></a></p>

<p>And although we all like Skype here. This is not what customers should see when they have Skype installed. My boss proposed to create an image instead of a text based phone number. This should work. But i did some Googling first. And found a <a href="http://forum.skype.com/index.php?showtopic=85053">post</a> on the Skype website. There seems to be a meta tag that disabled the Skype icons from being displayed on a website. So that was an easy fix.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">SKYPE_TOOLBAR</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span> =<span class="string"><span class="delimiter">&quot;</span><span class="content">SKYPE_TOOLBAR_PARSER_COMPATIBLE</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
</pre></div>
</div>
 </figure></notextile></div>

<p>I think it’s great that the Skype people provide a way to disable the icons. But i would like to have a bit more control over this. </p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/disable-skype-icons-on-a-website/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-31T16:47:16+02:00" pubdate data-updated="true">Mar 31<span>st</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/wordpress-and-no-www-rewrite/">Wordpress and NO-WWW Rewrite</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>On almost all of my domains i rewrite the WWW sub domain to the <a href="http://no-www.org/">no-WWW</a> version. This however went wrong on my own site. And i didn’t even notice it. My friend <a href="http://www.lexternet.nl/">Alex</a> pointed out that he couldn’t post any comment to the site anymore. So what went wrong?</p>

<p>Normally i use the following lines to do the rewrite.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
RewriteCond %{HTTP_HOST} ^www\.lenss\.nl$ [NC]
RewriteRule ^(.*)$ http://lenss.nl/$1 [R=301,L]
</pre></div>
</div>
 </figure></notextile></div>

<p>My own site however still runs <a href="http://wordpress.org/">Wordpress</a> and this package comes with it’s own set of rewrite rules. And i just dropped my new lines under the Wordpress rewrite rules.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^.*[^/]$
RewriteCond %{REQUEST_URI} !^.*//.*$
RewriteRule . index.php [L]
</pre></div>
</div>
 </figure></notextile></div>

<p>The result was that the WWW sub domain got rewritten to the no-www version. But everything after the trailing slash got dismissed. So rewrites for blog posts didn’t work. And all request would land on the main index. So i did some testing and combined the two sets of rewrite rules. This seems to function properly :)</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
RewriteEngine On
RewriteBase /
RewriteCond %{HTTP_HOST} ^www\.lenss\.nl$ [NC]
RewriteRule ^(.*)$ http://lenss.nl/$1 [R=301,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^.*[^/]$
RewriteCond %{REQUEST_URI} !^.*//.*$
RewriteRule . index.php [L]
</pre></div>
</div>
 </figure></notextile></div>

<p>Next time i just need to check my changes more thoroughly. And thank you Alex for point that out to me.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/wordpress-and-no-www-rewrite/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-31T11:10:37+02:00" pubdate data-updated="true">Mar 31<span>st</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/xss-vulnerability-on-dutch-bank-websites/">XSS Vulnerability on Dutch Bank Websites</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>My wife just send me a link to <a href="http://www.security.nl/artikel/28043/1/Hacker_vindt_lek_in_websites_Nederlandse_banken_.html">security.nl</a>. Pointing to an article about <a href="http://ha.ckers.org/xss.html">XSS</a> vulnerability in Dutch banking websites. And since i am from the Netherlands. I thought to check this out a bit.</p>

<p>security.nl states that a “<a href="http://security.zarco.nl/">security researcher</a>” found XSS bugs in most of Dutch websites. With a link that seems to point to the “researchers” blog. I don’t know about you. But i personally don’t trust websites that i never seen before. Let alone “researchers” that have absolutely no credibility in the scene. However the XSS bugs are real. But is this really something to write about? Showing an alert box on a screen shot seems very lame to me. I wonder if this is even exploitable at all?</p>

<p>One good point is that at least one bank responded in time and fixed the bug.</p>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/xss-vulnerability-on-dutch-bank-websites/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-20T14:06:02+01:00" pubdate data-updated="true">Mar 20<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/javascript/'>Javascript</a>, <a class='category' href='http://blog.lenss.nl/tag/security/'>Security</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/checking-website-status-with-php-and-curl/">Checking Website Status With PHP and Curl</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>I have to admit this is probably not the best way to things like this. But it was fun to write the small bit of code. And it’s useful as well. For one of my sites i use a small script to check the status every 30 minutes. I’m doing this because the server the site is running on sometimes chooses to stop serving web pages. It’s a managed server so not much i can do about it.</p>

<p>So to check the status of the website / web server i wrote a small class that is triggered from a CRON job that runs every 30 minutes.</p>

<p>The CRON script looks like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="predefined">require_once</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">/full/path/to/class/siteStatus.php</span><span class="delimiter">&quot;</span></span>;

<span class="keyword">try</span> {
  siteStatus::check(<span class="predefined">array</span>(
    <span class="string"><span class="delimiter">'</span><span class="content">sites</span><span class="delimiter">'</span></span> =&gt; <span class="predefined">array</span>(
      <span class="string"><span class="delimiter">'</span><span class="content">http://siteurl1.tld</span><span class="delimiter">'</span></span>,
      <span class="string"><span class="delimiter">'</span><span class="content">http://siteurl2.tld</span><span class="delimiter">'</span></span>
    ),
    <span class="string"><span class="delimiter">'</span><span class="content">agent</span><span class="delimiter">'</span></span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)</span><span class="delimiter">'</span></span>,
    <span class="string"><span class="delimiter">'</span><span class="content">email</span><span class="delimiter">'</span></span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">some+email.address</span><span class="delimiter">'</span></span>
  ));
} <span class="keyword">catch</span> (<span class="predefined-constant">Exception</span> <span class="local-variable">$e</span>) {
  <span class="predefined">echo</span> <span class="local-variable">$e</span>-&gt;getMessage();
}
</pre></div>
</div>
 </figure></notextile></div>

<p>And the class that does the actual checking:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="comment">/**
* siteStatus
*
* LICENSE
*
* This source file is subject to the new BSD license
*
* @package    siteStatus
* @copyright  Copyright (c) 2009 Thijs Lensselink. (http://lenss.nl)
* @license    http://lenss.nl/license/bsd.txt     New BSD License
*/</span>

<span class="comment">/**
* Class for checking the status of a website
*
* @package    siteStatus
* @copyright  Copyright (c) 2009 Thijs Lensselink. (http://lenss.nl)
* @license    http://lenss.nl/license/bsd.txt     New BSD License
*/</span>
<span class="keyword">Class</span> siteStatus
{
  <span class="comment">/**
   * @var resource
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="local-variable">$_curl</span>;

  <span class="comment">/**
   * @var string
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="local-variable">$_reportEmail</span>;

  <span class="comment">/**
   * @var string
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="local-variable">$_curlErrors</span>;

  <span class="comment">/**
   * This method loops through the lis tof sites provided by the
   * config array. And calls self::checkSite to do the actual checking.
   *
   * A config array will look something like this:
   * 
   * array(
   *        'sites' =&gt; array(
   *                'http://siteurl1.tld',
   *                'http://siteurl2.tld'
   *        ),
   *        'agent' =&gt; 'Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)',
   *        'email' =&gt; 'report+email.tld'
   * ); 
   *
   * @param  array  $config   The config array
   * @return void
   */</span>
  <span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">check</span>(<span class="predefined">array</span> <span class="local-variable">$config</span>)
  {
    <span class="predefined-constant">self</span>::setReportAddress(<span class="local-variable">$config</span>);
    <span class="predefined-constant">self</span>::createCurlResource();
    
    <span class="keyword">foreach</span> (<span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">sites</span><span class="delimiter">'</span></span>] <span class="keyword">as</span> <span class="local-variable">$site</span>) {
      <span class="local-variable">$checkDateTime</span> = <span class="predefined">date</span>(<span class="string"><span class="delimiter">'</span><span class="content">Y-m-d H:i:s</span><span class="delimiter">'</span></span>);
      <span class="keyword">if</span> (!<span class="predefined-constant">self</span>::checkSite(<span class="local-variable">$site</span>, <span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">agent</span><span class="delimiter">'</span></span>])) {
        <span class="predefined-constant">self</span>::sendReport(<span class="local-variable">$site</span>, <span class="local-variable">$checkDateTime</span>);
      }
    }
        
    curl_close(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>);
  }

  <span class="comment">/**
   * Sets the address to which the report has to be emailed.
   *
   * @param  array  $config   The config array
   * @return void
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">setReportAddress</span>(<span class="predefined">array</span> <span class="local-variable">$config</span>)
  {
    <span class="keyword">if</span> (!<span class="predefined">isset</span>(<span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">email</span><span class="delimiter">'</span></span>]) || (<span class="predefined">strlen</span>(<span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">email</span><span class="delimiter">'</span></span>]) &lt;= <span class="integer">4</span>)) {
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="predefined-constant">Exception</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">No report email address is set in the config.</span><span class="delimiter">&quot;</span></span>);
    }
        
    <span class="predefined-constant">self</span>::<span class="local-variable">$_reportEmail</span> = <span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">email</span><span class="delimiter">'</span></span>];
  }

  <span class="comment">/**
   * Try to create a curl resource.
   *
   * @return void
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">createCurlResource</span>()
  {
    <span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span> = curl_init();
    <span class="keyword">if</span> (!<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>) {
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="predefined-constant">Exception</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Could not create a curl resource.</span><span class="delimiter">&quot;</span></span>);
    }
  }

  <span class="comment">/**
   * Preform a call to the webserver. And check the status code provided by it.
   *
   * @param  string  $siteUrl   The site URL.
   * @param  string  $agent     Browser agent string.
   * @return boolean
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">checkSite</span>(<span class="local-variable">$siteUrl</span>, <span class="local-variable">$agent</span>)
  {
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_URL</span>,            <span class="local-variable">$siteUrl</span>);
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_USERAGENT</span>,      <span class="local-variable">$agent</span>);
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_RETURNTRANSFER</span>, <span class="integer">1</span>);
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_VERBOSE</span>,        <span class="predefined-constant">false</span>);
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_TIMEOUT</span>,        <span class="integer">5</span>);

    <span class="keyword">if</span> (curl_exec(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>) === <span class="predefined-constant">false</span>) {
            <span class="predefined-constant">self</span>::<span class="local-variable">$_curlErrors</span> = curl_error(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>);
    }
    <span class="local-variable">$httpcode</span> = curl_getinfo(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLINFO_HTTP_CODE</span>);
        
    <span class="keyword">if</span>(<span class="local-variable">$httpcode</span> &gt;= <span class="integer">200</span> &amp;&amp; <span class="local-variable">$httpcode</span> &lt; <span class="integer">300</span>) {
        <span class="keyword">return</span> <span class="predefined-constant">true</span>;
    }

    <span class="keyword">return</span> <span class="predefined-constant">false</span>;
  }

  <span class="comment">/**
   * Send a report after checking sites is done.
   *
   * @param  string $site     Site URL.
   * @param  string $dateTime DateTime the check was preformed.
   * @return void
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">sendReport</span>(<span class="local-variable">$site</span>, <span class="local-variable">$dateTime</span>)
  {
    <span class="local-variable">$reportSubject</span> = <span class="string"><span class="delimiter">&quot;</span><span class="content">Status report for </span><span class="inline"><span class="delimiter">{</span><span class="local-variable">$site</span><span class="delimiter">}</span></span><span class="char">\n</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;

    <span class="local-variable">$reportBody</span> = <span class="string"><span class="delimiter">&quot;</span><span class="content">Site : </span><span class="inline"><span class="delimiter">{</span><span class="local-variable">$site</span><span class="delimiter">}</span></span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
    <span class="local-variable">$reportBody</span> .= <span class="string"><span class="delimiter">&quot;</span><span class="content">Date : </span><span class="inline"><span class="delimiter">{</span><span class="local-variable">$dateTime</span><span class="delimiter">}</span></span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;

    <span class="keyword">if</span> (<span class="predefined">strlen</span>(<span class="predefined-constant">self</span>::<span class="local-variable">$_curlErrors</span>) &gt; <span class="integer">0</span>) {
      <span class="local-variable">$reportBody</span> .= <span class="string"><span class="delimiter">&quot;</span><span class="content">Errors : </span><span class="delimiter">&quot;</span></span> . <span class="predefined-constant">self</span>::<span class="local-variable">$_curlErrors</span> . <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
    }
                
    <span class="predefined">mail</span>(<span class="predefined-constant">self</span>::<span class="local-variable">$_reportEmail</span>, <span class="local-variable">$reportSubject</span>, <span class="local-variable">$reportBody</span>);
  }
}
</pre></div>
</div>
 </figure></notextile></div>

<p>Like i said this is probably not the best way of doing this. To make it more solid it’s probably better to use some sort of SMS gateway to send out reports. But for now this suits my needs. It’s runs from my local workstation. Which is on 24/7 anyway.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/checking-website-status-with-php-and-curl/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-20T10:56:03+01:00" pubdate data-updated="true">Mar 20<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/animated-loader-on-form-submit/">Animated Loader on Form Submit</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>In one of our sites we load content of a third party travel organization. And some of these calls can take some time. But when the pages are loading nothing really happens to the browser state. This is confusing for the users of the website. So i decided to add some animated preloader images. Just to show the users the site is still doing stuff.</p>

<p>This however confronted me with a small problem. The preloader images are supposed to show up when a form is submitted. And this is exactly what’s causing the problem. In my first attempt i created the image object when the form was submitted. On submit a JavaScript function was called. This function created the image object and displayed it.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="keyword">function</span> <span class="function">loader</span>() {
  <span class="keyword">var</span> loaderImg = <span class="keyword">new</span> Image();        
  loaderImg.src = <span class="string"><span class="delimiter">'</span><span class="content">some/image/url/</span><span class="delimiter">'</span></span>;
}
</pre></div>
</div>
 </figure></notextile></div>

<p>This however resulted in an image displayed that had no active animation. This happens i think because the image is not fully loaded when the user hits submit on the form. So to fix this i had to load the images before the page was completely rendered.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="keyword">var</span> loaderImg = <span class="keyword">new</span> Image();

window.<span class="function">onload</span> = <span class="keyword">function</span>() {
  loaderImg.src = <span class="string"><span class="delimiter">'</span><span class="content">some/image/url</span><span class="delimiter">'</span></span>;
}
</pre></div>
</div>
 </figure></notextile></div>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/animated-loader-on-form-submit/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-18T18:03:15+01:00" pubdate data-updated="true">Mar 18<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/javascript/'>Javascript</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/centos-php5-and-mcrypt/">CentOS PHP5 and Mcrypt</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>For some strange reason (i didn’t investigate) CentOS 5 does not come with a pre build <a href="http://www.php.net/mcrypt">mcrypt</a> extension for PHP. This is pretty weird if you ask me. And building this extension from source is no option for me. There are way to much dependencies missing. And i don’t really like installing *dev packages on my server. So how to fix this?</p>

<p>Luckily there are some rpm files floating around the net. So i just used <a href="http://rpmfind.net/linux/rpm2html/search.php?query=php-mcrypt">rpmfind</a> to find a fedora 5.2.6 version of the mcrypt extension. After downloading it’s a one line command to install. And a apache reboot to get it working.</p>

<blockquote>
  <p>Constantin was so nice to comment on the fact that the mcrypt library needs to be installed before installing the mcrypt PHP extension.</p>
</blockquote>

<blockquote>

  <ul>
    <li>$ wget ftp://rpmfind.net/linux/fedora/updates/7/i386/php-mcrypt-5.2.6-2.fc7.i386.rpm</li>
    <li>$ rpm -ivh –nodeps php-mcrypt-5.2.6-2.fc7.i386.rpm</li>
    <li>$ /etc/init.d/http restart</li>
  </ul>
</blockquote>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/centos-php5-and-mcrypt/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-17T11:40:27+01:00" pubdate data-updated="true">Mar 17<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/php-cli-bad-interpreter-permission-denied/">PHP CLI Bad Interpreter: Permission Denied</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>This question came up on the php.general list today. And i have seen it before when writing an shell script in PHP.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="comment">#!/usr/local/bin/php</span>
<span class="predefined">passthru</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">printenv</span><span class="delimiter">&quot;</span></span>);
</pre></div>
</div>
 </figure></notextile></div>

<p>If you are sure the PHP executable can be found in that location. And the file is executable. But it still returns this error:</p>

<blockquote>
  <p>/usr/local/bin/php: bad interpreter: Permission denied</p>
</blockquote>

<p>Big change the file you are trying to execute is on a filesystem with the noexec flag set.
To fix this either set the exec flag for the filesystem or move the script to a place where it can be executed.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/php-cli-bad-interpreter-permission-denied/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-13T16:59:02+01:00" pubdate data-updated="true">Mar 13<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>
  
</span>


    </p>
  </footer>
  </article>
  

  <ul class="pager">
    
    <li><a href="http://blog.lenss.nl/page/12/">&larr; Older</a></li>
    
    
    <li><a href="http://blog.lenss.nl/page/10/">Newer &rarr;</a></li>
    
  </ul>

  <div class="blog-copy">
      Copyright &copy; 2015 - Thijs Lensselink -
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  </div>
</div>

	      </div>
	  </div>

        </div>

        <div class="col-sm-4 col-sm-offset-0 blog-sidebar">
	    <div id="sidebar">
	       
	           
<div class="sidebox">
	<div class="me">
		<a href="http://www.zend.com/store/education/certification/yellow-pages.php#show-ClientCandidateID=ZEND006598"><img src="http://blog.lenss.nl/images/php5-zce-logo-new.gif" height="50" /></a>
		<a href="http://stackoverflow.com/users/476697/tlenss">
			<img src="http://stackoverflow.com/users/flair/476697.png?theme=dark" width="179" height="50" alt="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
		</a>
		<div class="gpg">
			Key ID : <a href="http://blog.lenss.nl/C773940D.asc">0xC773940D</a><br/>
			Fingerprint : 9AF2 38D6 3172 2F3E 112F 9024 C558 F5CD C773 940D
		</div>
	</div>
</div>

<section>
  <div class="sidebox">
	<h1>Recent entries</h1>
	<ul class="linklist">
		
		<li><a href="http://blog.lenss.nl/2016/01/using-the-hub-in-github-pull-requests/">Using the hub in Github - pull requests</a></li>
		
		<li><a href="http://blog.lenss.nl/2015/01/git-view-unpushed-changes/">View unpushed changes in git</a></li>
		
		<li><a href="http://blog.lenss.nl/2014/09/secure-cloud-storage-with-google-and-encfs-on-ubuntu/">Secure cloud storage with Google and encfs on Ubuntu</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/11/first-weekday-of-month-in-php/">Get the first weekday of the month in PHP</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/git-move-folder-containing-submodules/">Renaming a folder in git that contains submodules</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/clover-forcast-for-php-in-jenkins/">Fixing the clover forcast for PHP projects in Jenkins</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/08/github-and-multiple-ssh-keys/">Github, SSH and multiple repositories</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/07/memory-exhaust-issue-PHP-and-APM/">Memory exhaust issue PHP and APM</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/06/php-55-released/">PHP 5.5.0 released</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/03/casting-weirdness-with-PHP/">Casting weirdness with PHP</a></li>
		
	</ul>
</div>
</section>

<div class="sidebox ad">
	<script type="text/javascript"><!--
	google_ad_client = "ca-pub-0921745317573569";
	/* nlblue_side */
	google_ad_slot = "7706621160";
	google_ad_width = 300;
	google_ad_height = 250;
	//-->
	</script>
	<script type="text/javascript"
	src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
</div>
<div class="sidebox">
	<h1>Tags</h1>
	<ul id="tag-cloud" class="blocklist"><a href='http://blog.lenss.nl/tag/-home' style='font-size: 120.0%'>/home(32)</a> <a href='http://blog.lenss.nl/tag/cloud' style='font-size: 100.625%'>Cloud(1)</a> <a href='http://blog.lenss.nl/tag/code' style='font-size: 160.0%'>Code(96)</a> <a href='http://blog.lenss.nl/tag/design' style='font-size: 102.5%'>Design(4)</a> <a href='http://blog.lenss.nl/tag/development' style='font-size: 101.25%'>Development(2)</a> <a href='http://blog.lenss.nl/tag/freelance' style='font-size: 102.5%'>Freelance(4)</a> <a href='http://blog.lenss.nl/tag/git' style='font-size: 102.5%'>Git(4)</a> <a href='http://blog.lenss.nl/tag/google' style='font-size: 101.875%'>Google(3)</a> <a href='http://blog.lenss.nl/tag/javascript' style='font-size: 105.0%'>Javascript(8)</a> <a href='http://blog.lenss.nl/tag/jenkins' style='font-size: 100.625%'>Jenkins(1)</a> <a href='http://blog.lenss.nl/tag/jquery' style='font-size: 101.25%'>Jquery(2)</a> <a href='http://blog.lenss.nl/tag/magento' style='font-size: 101.25%'>Magento(2)</a> <a href='http://blog.lenss.nl/tag/php' style='font-size: 143.125%'>PHP(69)</a> <a href='http://blog.lenss.nl/tag/security' style='font-size: 105.625%'>Security(9)</a> <a href='http://blog.lenss.nl/tag/sql' style='font-size: 103.75%'>SQL(6)</a> <a href='http://blog.lenss.nl/tag/tech' style='font-size: 159.375%'>Tech(95)</a> <a href='http://blog.lenss.nl/tag/zend' style='font-size: 105.0%'>Zend(8)</a> </ul>
	<div style="clear:both;"></div>
</div>
<section>
  <div class="sidebox">
	<h1>GitHub Repos</h1>
	
	<ul class="linklist" id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/tlenss" class="github-follow-button">Follow On GitHub</a>
  
</div>
</section>


<section>
  <div class="sidebox">
	<!-- <h1>Latest Tweets</h1> -->
<a class="twitter-timeline" href="https://twitter.com/tlenss" data-widget-id="408894330036703232">Tweets by @tlenss</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
</section>


	       
	    </div>
        </div>

      </div>

    </div>

    <script src="http://blog.lenss.nl/javascripts/jquery-2.1.0.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/bootstrap-3.1.1.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/modernizr-2.0.js"></script>
    <script src="http://blog.lenss.nl/javascripts/ender.js"></script>
    <script src="http://blog.lenss.nl/javascripts/octopress.js"></script>
    <script src="http://blog.lenss.nl/javascripts/github.js"></script>
    <script src="http://blog.lenss.nl/javascripts/twitter.js"></script>
    <script src="http://blog.lenss.nl/javascripts/jquery.cookie.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/adn-timeline.js"></script>
    <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = 'http://blog.lenss.nl/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tlenss',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8003524-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  </body>
</html>
