
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Thijs Lensselink's Blog</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Disable Skype Icons on a Website My boss today showed me one of our websites. And the layout was not displayed how it should be. On my development &hellip;">
    
    <meta name="author" content="Thijs Lensselink">
    
    <link rel="canonical" href="http://blog.lenss.nl/page/11/">
    <link rel="shortcut icon" href="/img/icon/favicon.ico">
    <link href="http://feeds.feedburner.com/ThijsLensselinksBlog" rel="alternate" title="Thijs Lensselink's Blog" type="application/atom+xml">

    <!--<link href="http://blog.lenss.nl/stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="http://blog.lenss.nl/stylesheets/bootstrap-theme.min.css" rel="stylesheet">
    <link href="http://blog.lenss.nl/stylesheets/bootstrap-responsive.css" rel="stylesheet">
    <link href="http://blog.lenss.nl/stylesheets/font-awesome.min.css" rel="stylesheet">
    <link href="http://blog.lenss.nl/stylesheets/lenss.css" rel="stylesheet">-->
    <link href="stylesheets/screen.css" rel="stylesheet">
    <link href="stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="stylesheets/bootstrap-theme.min.css" rel="stylesheet">
    <link href="stylesheets/bootstrap-responsive.css" rel="stylesheet">
    <link href="stylesheets/font-awesome.min.css" rel="stylesheet">
    <link href="stylesheets/lenss.css" rel="stylesheet">
    
  </head>


<body   >

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><i class="fa fa-linux"></i> lenss<span class="lenssnl">.nl/blog</span></a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="http://lenss.nl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Www']);">Home</a></li>
            <li class="active"><a href="http://blog.lenss.nl/" class="lenssnl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Blog']);">Blog</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="row">

        <div class="col-sm-8">
	
          <div id="content">
	      <div class="inner">
	      <div class="blog-index">
  
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/disable-skype-icons-on-a-website/">Disable Skype Icons on a Website</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>My boss today showed me one of our websites. And the layout was not displayed how it should be. On my development station however there was no problem with viewing the same page. And my boss pointed me to the Skype icon on the contact page. Because he had Skype installed. And with the <a href="https://developer.skype.com/SkypeToolbars">Skype toolbar</a> for browsers enabled a small icon is inserted in pages that have data that looks like a phone number.</p>

<p><a href="http://blog.lenss.nl/images/2009/03/egypte_phone.png"><img src="http://blog.lenss.nl/images/2009/03/egypte_phone.png" alt="egypte_phone" /></a></p>

<p>And although we all like Skype here. This is not what customers should see when they have Skype installed. My boss proposed to create an image instead of a text based phone number. This should work. But i did some Googling first. And found a <a href="http://forum.skype.com/index.php?showtopic=85053">post</a> on the Skype website. There seems to be a meta tag that disabled the Skype icons from being displayed on a website. So that was an easy fix.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">SKYPE_TOOLBAR</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span> =<span class="string"><span class="delimiter">&quot;</span><span class="content">SKYPE_TOOLBAR_PARSER_COMPATIBLE</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
</pre></div>
</div>
 </figure></notextile></div>

<p>I think it’s great that the Skype people provide a way to disable the icons. But i would like to have a bit more control over this. </p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/disable-skype-icons-on-a-website/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-31T16:47:16+02:00" pubdate data-updated="true">Mar 31<span>st</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/wordpress-and-no-www-rewrite/">Wordpress and NO-WWW Rewrite</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>On almost all of my domains i rewrite the WWW sub domain to the <a href="http://no-www.org/">no-WWW</a> version. This however went wrong on my own site. And i didn’t even notice it. My friend <a href="http://www.lexternet.nl/">Alex</a> pointed out that he couldn’t post any comment to the site anymore. So what went wrong?</p>

<p>Normally i use the following lines to do the rewrite.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
RewriteCond %{HTTP_HOST} ^www\.lenss\.nl$ [NC]
RewriteRule ^(.*)$ http://lenss.nl/$1 [R=301,L]
</pre></div>
</div>
 </figure></notextile></div>

<p>My own site however still runs <a href="http://wordpress.org/">Wordpress</a> and this package comes with it’s own set of rewrite rules. And i just dropped my new lines under the Wordpress rewrite rules.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^.*[^/]$
RewriteCond %{REQUEST_URI} !^.*//.*$
RewriteRule . index.php [L]
</pre></div>
</div>
 </figure></notextile></div>

<p>The result was that the WWW sub domain got rewritten to the no-www version. But everything after the trailing slash got dismissed. So rewrites for blog posts didn’t work. And all request would land on the main index. So i did some testing and combined the two sets of rewrite rules. This seems to function properly :)</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
RewriteEngine On
RewriteBase /
RewriteCond %{HTTP_HOST} ^www\.lenss\.nl$ [NC]
RewriteRule ^(.*)$ http://lenss.nl/$1 [R=301,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^.*[^/]$
RewriteCond %{REQUEST_URI} !^.*//.*$
RewriteRule . index.php [L]
</pre></div>
</div>
 </figure></notextile></div>

<p>Next time i just need to check my changes more thoroughly. And thank you Alex for point that out to me.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/wordpress-and-no-www-rewrite/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-31T11:10:37+02:00" pubdate data-updated="true">Mar 31<span>st</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/xss-vulnerability-on-dutch-bank-websites/">XSS Vulnerability on Dutch Bank Websites</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>My wife just send me a link to <a href="http://www.security.nl/artikel/28043/1/Hacker_vindt_lek_in_websites_Nederlandse_banken_.html">security.nl</a>. Pointing to an article about <a href="http://ha.ckers.org/xss.html">XSS</a> vulnerability in Dutch banking websites. And since i am from the Netherlands. I thought to check this out a bit.</p>

<p>security.nl states that a “<a href="http://security.zarco.nl/">security researcher</a>” found XSS bugs in most of Dutch websites. With a link that seems to point to the “researchers” blog. I don’t know about you. But i personally don’t trust websites that i never seen before. Let alone “researchers” that have absolutely no credibility in the scene. However the XSS bugs are real. But is this really something to write about? Showing an alert box on a screen shot seems very lame to me. I wonder if this is even exploitable at all?</p>

<p>One good point is that at least one bank responded in time and fixed the bug.</p>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/xss-vulnerability-on-dutch-bank-websites/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-20T14:06:02+01:00" pubdate data-updated="true">Mar 20<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/javascript/'>Javascript</a>, <a class='category' href='http://blog.lenss.nl/tag/security/'>Security</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/checking-website-status-with-php-and-curl/">Checking Website Status With PHP and Curl</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>I have to admit this is probably not the best way to things like this. But it was fun to write the small bit of code. And it’s useful as well. For one of my sites i use a small script to check the status every 30 minutes. I’m doing this because the server the site is running on sometimes chooses to stop serving web pages. It’s a managed server so not much i can do about it.</p>

<p>So to check the status of the website / web server i wrote a small class that is triggered from a CRON job that runs every 30 minutes.</p>

<p>The CRON script looks like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="predefined">require_once</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">/full/path/to/class/siteStatus.php</span><span class="delimiter">&quot;</span></span>;

<span class="keyword">try</span> {
  siteStatus::check(<span class="predefined">array</span>(
    <span class="string"><span class="delimiter">'</span><span class="content">sites</span><span class="delimiter">'</span></span> =&gt; <span class="predefined">array</span>(
      <span class="string"><span class="delimiter">'</span><span class="content">http://siteurl1.tld</span><span class="delimiter">'</span></span>,
      <span class="string"><span class="delimiter">'</span><span class="content">http://siteurl2.tld</span><span class="delimiter">'</span></span>
    ),
    <span class="string"><span class="delimiter">'</span><span class="content">agent</span><span class="delimiter">'</span></span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)</span><span class="delimiter">'</span></span>,
    <span class="string"><span class="delimiter">'</span><span class="content">email</span><span class="delimiter">'</span></span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">some+email.address</span><span class="delimiter">'</span></span>
  ));
} <span class="keyword">catch</span> (<span class="predefined-constant">Exception</span> <span class="local-variable">$e</span>) {
  <span class="predefined">echo</span> <span class="local-variable">$e</span>-&gt;getMessage();
}
</pre></div>
</div>
 </figure></notextile></div>

<p>And the class that does the actual checking:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="comment">/**
* siteStatus
*
* LICENSE
*
* This source file is subject to the new BSD license
*
* @package    siteStatus
* @copyright  Copyright (c) 2009 Thijs Lensselink. (http://lenss.nl)
* @license    http://lenss.nl/license/bsd.txt     New BSD License
*/</span>

<span class="comment">/**
* Class for checking the status of a website
*
* @package    siteStatus
* @copyright  Copyright (c) 2009 Thijs Lensselink. (http://lenss.nl)
* @license    http://lenss.nl/license/bsd.txt     New BSD License
*/</span>
<span class="keyword">Class</span> siteStatus
{
  <span class="comment">/**
   * @var resource
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="local-variable">$_curl</span>;

  <span class="comment">/**
   * @var string
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="local-variable">$_reportEmail</span>;

  <span class="comment">/**
   * @var string
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="local-variable">$_curlErrors</span>;

  <span class="comment">/**
   * This method loops through the lis tof sites provided by the
   * config array. And calls self::checkSite to do the actual checking.
   *
   * A config array will look something like this:
   * 
   * array(
   *        'sites' =&gt; array(
   *                'http://siteurl1.tld',
   *                'http://siteurl2.tld'
   *        ),
   *        'agent' =&gt; 'Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)',
   *        'email' =&gt; 'report+email.tld'
   * ); 
   *
   * @param  array  $config   The config array
   * @return void
   */</span>
  <span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">check</span>(<span class="predefined">array</span> <span class="local-variable">$config</span>)
  {
    <span class="predefined-constant">self</span>::setReportAddress(<span class="local-variable">$config</span>);
    <span class="predefined-constant">self</span>::createCurlResource();
    
    <span class="keyword">foreach</span> (<span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">sites</span><span class="delimiter">'</span></span>] <span class="keyword">as</span> <span class="local-variable">$site</span>) {
      <span class="local-variable">$checkDateTime</span> = <span class="predefined">date</span>(<span class="string"><span class="delimiter">'</span><span class="content">Y-m-d H:i:s</span><span class="delimiter">'</span></span>);
      <span class="keyword">if</span> (!<span class="predefined-constant">self</span>::checkSite(<span class="local-variable">$site</span>, <span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">agent</span><span class="delimiter">'</span></span>])) {
        <span class="predefined-constant">self</span>::sendReport(<span class="local-variable">$site</span>, <span class="local-variable">$checkDateTime</span>);
      }
    }
        
    curl_close(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>);
  }

  <span class="comment">/**
   * Sets the address to which the report has to be emailed.
   *
   * @param  array  $config   The config array
   * @return void
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">setReportAddress</span>(<span class="predefined">array</span> <span class="local-variable">$config</span>)
  {
    <span class="keyword">if</span> (!<span class="predefined">isset</span>(<span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">email</span><span class="delimiter">'</span></span>]) || (<span class="predefined">strlen</span>(<span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">email</span><span class="delimiter">'</span></span>]) &lt;= <span class="integer">4</span>)) {
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="predefined-constant">Exception</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">No report email address is set in the config.</span><span class="delimiter">&quot;</span></span>);
    }
        
    <span class="predefined-constant">self</span>::<span class="local-variable">$_reportEmail</span> = <span class="local-variable">$config</span>[<span class="string"><span class="delimiter">'</span><span class="content">email</span><span class="delimiter">'</span></span>];
  }

  <span class="comment">/**
   * Try to create a curl resource.
   *
   * @return void
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">createCurlResource</span>()
  {
    <span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span> = curl_init();
    <span class="keyword">if</span> (!<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>) {
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="predefined-constant">Exception</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Could not create a curl resource.</span><span class="delimiter">&quot;</span></span>);
    }
  }

  <span class="comment">/**
   * Preform a call to the webserver. And check the status code provided by it.
   *
   * @param  string  $siteUrl   The site URL.
   * @param  string  $agent     Browser agent string.
   * @return boolean
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">checkSite</span>(<span class="local-variable">$siteUrl</span>, <span class="local-variable">$agent</span>)
  {
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_URL</span>,            <span class="local-variable">$siteUrl</span>);
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_USERAGENT</span>,      <span class="local-variable">$agent</span>);
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_RETURNTRANSFER</span>, <span class="integer">1</span>);
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_VERBOSE</span>,        <span class="predefined-constant">false</span>);
    curl_setopt(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLOPT_TIMEOUT</span>,        <span class="integer">5</span>);

    <span class="keyword">if</span> (curl_exec(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>) === <span class="predefined-constant">false</span>) {
            <span class="predefined-constant">self</span>::<span class="local-variable">$_curlErrors</span> = curl_error(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>);
    }
    <span class="local-variable">$httpcode</span> = curl_getinfo(<span class="predefined-constant">self</span>::<span class="local-variable">$_curl</span>, <span class="constant">CURLINFO_HTTP_CODE</span>);
        
    <span class="keyword">if</span>(<span class="local-variable">$httpcode</span> &gt;= <span class="integer">200</span> &amp;&amp; <span class="local-variable">$httpcode</span> &lt; <span class="integer">300</span>) {
        <span class="keyword">return</span> <span class="predefined-constant">true</span>;
    }

    <span class="keyword">return</span> <span class="predefined-constant">false</span>;
  }

  <span class="comment">/**
   * Send a report after checking sites is done.
   *
   * @param  string $site     Site URL.
   * @param  string $dateTime DateTime the check was preformed.
   * @return void
   */</span>
  <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">sendReport</span>(<span class="local-variable">$site</span>, <span class="local-variable">$dateTime</span>)
  {
    <span class="local-variable">$reportSubject</span> = <span class="string"><span class="delimiter">&quot;</span><span class="content">Status report for </span><span class="inline"><span class="delimiter">{</span><span class="local-variable">$site</span><span class="delimiter">}</span></span><span class="char">\n</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;

    <span class="local-variable">$reportBody</span> = <span class="string"><span class="delimiter">&quot;</span><span class="content">Site : </span><span class="inline"><span class="delimiter">{</span><span class="local-variable">$site</span><span class="delimiter">}</span></span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
    <span class="local-variable">$reportBody</span> .= <span class="string"><span class="delimiter">&quot;</span><span class="content">Date : </span><span class="inline"><span class="delimiter">{</span><span class="local-variable">$dateTime</span><span class="delimiter">}</span></span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;

    <span class="keyword">if</span> (<span class="predefined">strlen</span>(<span class="predefined-constant">self</span>::<span class="local-variable">$_curlErrors</span>) &gt; <span class="integer">0</span>) {
      <span class="local-variable">$reportBody</span> .= <span class="string"><span class="delimiter">&quot;</span><span class="content">Errors : </span><span class="delimiter">&quot;</span></span> . <span class="predefined-constant">self</span>::<span class="local-variable">$_curlErrors</span> . <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
    }
                
    <span class="predefined">mail</span>(<span class="predefined-constant">self</span>::<span class="local-variable">$_reportEmail</span>, <span class="local-variable">$reportSubject</span>, <span class="local-variable">$reportBody</span>);
  }
}
</pre></div>
</div>
 </figure></notextile></div>

<p>Like i said this is probably not the best way of doing this. To make it more solid it’s probably better to use some sort of SMS gateway to send out reports. But for now this suits my needs. It’s runs from my local workstation. Which is on 24/7 anyway.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/checking-website-status-with-php-and-curl/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-20T10:56:03+01:00" pubdate data-updated="true">Mar 20<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/animated-loader-on-form-submit/">Animated Loader on Form Submit</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>In one of our sites we load content of a third party travel organization. And some of these calls can take some time. But when the pages are loading nothing really happens to the browser state. This is confusing for the users of the website. So i decided to add some animated preloader images. Just to show the users the site is still doing stuff.</p>

<p>This however confronted me with a small problem. The preloader images are supposed to show up when a form is submitted. And this is exactly what’s causing the problem. In my first attempt i created the image object when the form was submitted. On submit a JavaScript function was called. This function created the image object and displayed it.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="keyword">function</span> <span class="function">loader</span>() {
  <span class="keyword">var</span> loaderImg = <span class="keyword">new</span> Image();        
  loaderImg.src = <span class="string"><span class="delimiter">'</span><span class="content">some/image/url/</span><span class="delimiter">'</span></span>;
}
</pre></div>
</div>
 </figure></notextile></div>

<p>This however resulted in an image displayed that had no active animation. This happens i think because the image is not fully loaded when the user hits submit on the form. So to fix this i had to load the images before the page was completely rendered.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="keyword">var</span> loaderImg = <span class="keyword">new</span> Image();

window.<span class="function">onload</span> = <span class="keyword">function</span>() {
  loaderImg.src = <span class="string"><span class="delimiter">'</span><span class="content">some/image/url</span><span class="delimiter">'</span></span>;
}
</pre></div>
</div>
 </figure></notextile></div>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/animated-loader-on-form-submit/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-18T18:03:15+01:00" pubdate data-updated="true">Mar 18<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/javascript/'>Javascript</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/centos-php5-and-mcrypt/">CentOS PHP5 and Mcrypt</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>For some strange reason (i didn’t investigate) CentOS 5 does not come with a pre build <a href="http://www.php.net/mcrypt">mcrypt</a> extension for PHP. This is pretty weird if you ask me. And building this extension from source is no option for me. There are way to much dependencies missing. And i don’t really like installing *dev packages on my server. So how to fix this?</p>

<p>Luckily there are some rpm files floating around the net. So i just used <a href="http://rpmfind.net/linux/rpm2html/search.php?query=php-mcrypt">rpmfind</a> to find a fedora 5.2.6 version of the mcrypt extension. After downloading it’s a one line command to install. And a apache reboot to get it working.</p>

<blockquote>
  <p>Constantin was so nice to comment on the fact that the mcrypt library needs to be installed before installing the mcrypt PHP extension.</p>
</blockquote>

<blockquote>

  <ul>
    <li>$ wget ftp://rpmfind.net/linux/fedora/updates/7/i386/php-mcrypt-5.2.6-2.fc7.i386.rpm</li>
    <li>$ rpm -ivh –nodeps php-mcrypt-5.2.6-2.fc7.i386.rpm</li>
    <li>$ /etc/init.d/http restart</li>
  </ul>
</blockquote>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/centos-php5-and-mcrypt/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-17T11:40:27+01:00" pubdate data-updated="true">Mar 17<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/03/php-cli-bad-interpreter-permission-denied/">PHP CLI Bad Interpreter: Permission Denied</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>This question came up on the php.general list today. And i have seen it before when writing an shell script in PHP.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="comment">#!/usr/local/bin/php</span>
<span class="predefined">passthru</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">printenv</span><span class="delimiter">&quot;</span></span>);
</pre></div>
</div>
 </figure></notextile></div>

<p>If you are sure the PHP executable can be found in that location. And the file is executable. But it still returns this error:</p>

<blockquote>
  <p>/usr/local/bin/php: bad interpreter: Permission denied</p>
</blockquote>

<p>Big change the file you are trying to execute is on a filesystem with the noexec flag set.
To fix this either set the exec flag for the filesystem or move the script to a place where it can be executed.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/03/php-cli-bad-interpreter-permission-denied/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-03-13T16:59:02+01:00" pubdate data-updated="true">Mar 13<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/02/elephpants-2/">ElePHPants</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Good thing i sometimes use my wife’s computer for backup. I found my lost pictures again :) Say hi to my blue family.</p>

<p><img class="left" src="http://blog.lenss.nl/images/2009/02/img_1364-300x225.jpg" /></p>

<p><img class="left" src="http://blog.lenss.nl/images/2009/02/img_1365-300x225.jpg" /></p>

<p><img class="left" src="http://blog.lenss.nl/images/2009/02/img_1372-300x225.jpg" /></p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/02/elephpants-2/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-02-25T07:07:13+01:00" pubdate data-updated="true">Feb 25<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/-home/'>/home</a>, <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/02/speed-up-and-save-traffic-with-apache-and-mod_deflate/">Speed Up and Save Traffic With Apache and Mod_deflate</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>One of our sites was loading pretty slow. This is mostly caused by a very heavy design. But i still wanted to speed things up a bit.</p>

<p>The first step was compressing all JavaScript files with the <a href="http://developer.yahoo.com/yui/compressor/">Yahoo YUI compressor</a>. The next step was to activate mod_deflate and compress all text, XML, and media files (JavaScript, CSS).</p>

<p>When the mod_deflate module is loaded in apache this is a pretty easy thing to do. Just add the following lines to a .htaccess file in the root of the web site / application.</p>

<blockquote>
  <ul>
    <li>AddOutputFilterByType DEFLATE text/html text/plain text/xml text/javascript text/css</li>
    <li>BrowserMatch ^Mozilla/4 gzip-only-text/html</li>
    <li>BrowserMatch ^Mozilla/4.0[678] no-gzip</li>
    <li>BrowserMatch \bMSIE !no-gzip !gzip-only-text/html</li>
  </ul>
</blockquote>

<p>The first line enables mod_deflate for the specified extensions. And the other three lines are there because of the way some older browsers handle gzipped data.</p>

<p>To test if the the content is transmitted over the line in gzipped format i used the <a href="https://addons.mozilla.org/en-US/firefox/addon/3829">Live HTTP Header</a> Firefox extensions. This let’s you watch the Live HTTP headers as the fly by. </p>

<p>Check the HTTP/ 1.x 200 OK response from the webserver for the following line</p>

<blockquote>

  <p>Content-Encoding: gzip</p>
</blockquote>

<p>And to test what happens if a browser doesn’t support gzipped data. You can set a configuration parameter in Firefox <a href="http://kb.mozillazine.org/Firefox_:_FAQs_:_About:config_Entries">about:config</a>.</p>

<p>gzip, deflate enabled:</p>

<blockquote>

  <p>network.http.accept-encoding = gzip,deflate</p>
</blockquote>

<p>gzip, deflate disabled:</p>

<blockquote>

  <p>network.http.accept-encoding = </p>
</blockquote>

<p>References :
<a href="http://www.howtoforge.com/apache2_mod_deflate">http://www.howtoforge.com/apache2_mod_deflate</a></p>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/02/speed-up-and-save-traffic-with-apache-and-mod_deflate/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-02-24T05:59:53+01:00" pubdate data-updated="true">Feb 24<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2009/02/elephpants/">elePHPants</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Some time ago i got a truck load of elePHPants [<a href="http://www.nexen.net/elephpant.php">1</a>] [<a href="http://www.flickr.com/groups/elephpants/">2</a>]. Thanks to Damien from <a href="http://www.nexen.net/">Nexen</a>. I wanted ti post the picture with two hundred of them sitting on our couch. But seems i lost some pictures with my last disk crash. This is the only only one left.</p>

<p><a href="http://blog.lenss.nl/images/2009/02/double_tail.jpg"><img src="http://blog.lenss.nl/images/2009/02/double_tail-300x255.jpg" alt="double_tail" /></a></p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2009/02/elephpants/#disqus_thread">Comments</a>
      
      








  


<time datetime="2009-02-24T03:56:36+01:00" pubdate data-updated="true">Feb 24<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>
  
</span>


    </p>
  </footer>
  </article>
  

  <ul class="pager">
    
    <li><a href="http://blog.lenss.nl/page/12/">&larr; Older</a></li>
    
    
    <li><a href="http://blog.lenss.nl/page/10/">Newer &rarr;</a></li>
    
  </ul>

  <div class="blog-copy">
      Copyright &copy; 2014 - Thijs Lensselink -
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  </div>
</div>

	      </div>
	  </div>

        </div>

        <div class="col-sm-4 col-sm-offset-0 blog-sidebar">
	    <div id="sidebar">
	       
	           
<div class="sidebox">
	<div class="me">
		<a href="http://www.zend.com/store/education/certification/yellow-pages.php#show-ClientCandidateID=ZEND006598"><img src="http://blog.lenss.nl/images/php5-zce-logo-new.gif" height="50" /></a>
		<a href="http://stackoverflow.com/users/476697/tlenss">
			<img src="http://stackoverflow.com/users/flair/476697.png?theme=dark" width="179" height="50" alt="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
		</a>
		<div class="gpg">
			Key ID : <a href="http://blog.lenss.nl/C773940D.asc">0xC773940D</a><br/>
			Fingerprint : 9AF2 38D6 3172 2F3E 112F 9024 C558 F5CD C773 940D
		</div>
	</div>
</div>

<section>
  <div class="sidebox">
	<h1>Recent entries</h1>
	<ul class="linklist">
		
		<li><a href="http://blog.lenss.nl/2013/11/first-weekday-of-month-in-php/">Get the first weekday of the month in PHP</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/git-move-folder-containing-submodules/">Renaming a folder in git that contains submodules</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/clover-forcast-for-php-in-jenkins/">Fixing the clover forcast for PHP projects in Jenkins</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/08/github-and-multiple-ssh-keys/">Github, SSH and multiple repositories</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/07/memory-exhaust-issue-PHP-and-APM/">Memory exhaust issue PHP and APM</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/06/php-55-released/">PHP 5.5.0 released</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/03/casting-weirdness-with-PHP/">Casting weirdness with PHP</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/02/zend-optimizer%2B-integrated-in-5.5/">Zend Optimizer+ integrated into 5.5</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/02/phpness-serious-wtf/">PHPness Serious WTF</a></li>
		
		<li><a href="http://blog.lenss.nl/2012/11/publish-google-reader-shared-items/">Publish Google Reader shared items</a></li>
		
	</ul>
</div>
</section>

<div class="sidebox ad">
	<script type="text/javascript"><!--
	google_ad_client = "ca-pub-0921745317573569";
	/* nlblue_side */
	google_ad_slot = "7706621160";
	google_ad_width = 300;
	google_ad_height = 250;
	//-->
	</script>
	<script type="text/javascript"
	src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
</div>
<div class="sidebox">
	<h1>Tags</h1>
	<ul id="tag-cloud" class="blocklist"><a href='http://blog.lenss.nl/tag/-home' style='font-size: 116.0%'>/home(32)</a> <a href='http://blog.lenss.nl/tag/code' style='font-size: 160.0%'>Code(120)</a> <a href='http://blog.lenss.nl/tag/design' style='font-size: 103.0%'>Design(6)</a> <a href='http://blog.lenss.nl/tag/freelance' style='font-size: 102.0%'>Freelance(4)</a> <a href='http://blog.lenss.nl/tag/git' style='font-size: 101.0%'>Git(2)</a> <a href='http://blog.lenss.nl/tag/google' style='font-size: 101.5%'>Google(3)</a> <a href='http://blog.lenss.nl/tag/javascript' style='font-size: 104.0%'>Javascript(8)</a> <a href='http://blog.lenss.nl/tag/jenkins' style='font-size: 100.5%'>Jenkins(1)</a> <a href='http://blog.lenss.nl/tag/jquery' style='font-size: 101.0%'>Jquery(2)</a> <a href='http://blog.lenss.nl/tag/magento' style='font-size: 101.0%'>Magento(2)</a> <a href='http://blog.lenss.nl/tag/php' style='font-size: 135.0%'>PHP(70)</a> <a href='http://blog.lenss.nl/tag/security' style='font-size: 104.0%'>Security(8)</a> <a href='http://blog.lenss.nl/tag/sql' style='font-size: 103.0%'>SQL(6)</a> <a href='http://blog.lenss.nl/tag/tech' style='font-size: 149.0%'>Tech(98)</a> <a href='http://blog.lenss.nl/tag/zend' style='font-size: 104.0%'>Zend(8)</a> </ul>
	<div style="clear:both;"></div>
</div>
<section>
  <div class="sidebox">
	<h1>GitHub Repos</h1>
	
	<ul class="linklist" id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/tlenss" class="github-follow-button">Follow On GitHub</a>
  <script type="text/javascript" src="http://octophile.com/widgets.js"></script>
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = 'http://blog.lenss.nl/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tlenss',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="http://blog.lenss.nl/javascripts/github.js" type="text/javascript"> </script>
</div>
</section>

<section>
  <div class="sidebox">
	<!-- <h1>Latest Tweets</h1> -->
<a class="twitter-timeline" href="https://twitter.com/tlenss" data-widget-id="408894330036703232">Tweets by @tlenss</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
</section>


	       
	    </div>
        </div>

      </div>

    </div>

    <script src="http://blog.lenss.nl/javascripts/jquery-2.1.0.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/bootstrap-3.1.1.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/modernizr-2.0.js"></script>
    <script src="http://blog.lenss.nl/javascripts/ender.js"></script>
    <script src="http://blog.lenss.nl/javascripts/octopress.js"></script>
    <script src="http://blog.lenss.nl/javascripts/github.js"></script>
    <script src="http://blog.lenss.nl/javascripts/twitter.js"></script>
    <script src="http://blog.lenss.nl/javascripts/jquery.cookie.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/adn-timeline.js"></script>
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8003524-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  </body>
</html>
