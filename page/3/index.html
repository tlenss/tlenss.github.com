
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Thijs Lensselink's Blog</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Abbywinters Is Looking for New Developers If you’re looking for a new challenging and exiting Senior Webdeveloper position. Don’t look any further. &hellip;">
    
    <meta name="author" content="Thijs Lensselink">
    
    <link rel="canonical" href="http://blog.lenss.nl/page/3/">
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="http://feeds.feedburner.com/ThijsLensselinksBlog" rel="alternate" title="Thijs Lensselink's Blog" type="application/atom+xml">

    <link href="/stylesheets/screen.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap-theme.min.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap-responsive.css" rel="stylesheet">
    <link href="/stylesheets/font-awesome.min.css" rel="stylesheet">
    <link href="/stylesheets/lenss.css" rel="stylesheet">
    
  </head>


<body   >

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><i class="fa fa-linux"></i> lenss<span class="lenssnl">.nl/blog</span></a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="http://lenss.nl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Www']);">Home</a></li>
            <li class="active"><a href="http://blog.lenss.nl/" class="lenssnl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Blog']);">Blog</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="row">

        <div class="col-sm-8">
	
          <div id="content">
	      <div class="inner">
	      <div class="blog-index">
  
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2012/05/abbywinters-is-looking-for-new-developers/">Abbywinters Is Looking for New Developers</a></h1>
	
	</header>
</header>


  <div class="articletext"><p><img class="left" src="http://blog.lenss.nl/images/2011/11/aw-logo-roundel-blue.png" />
If you’re looking for a new challenging and exiting Senior Webdeveloper position. Don’t look any further. If you already think you have the job of your dreams. Think again!</p>

<p><em><a href="http://www.abbywinters.com">abbywinters.com</a> <strong>(NSFW)</strong> is one of the largest and most ethical, highly rated, well designed, and successful erotic websites in the world today. abbywinters.com is the WINNER of the AVN 2011 Awards for Best Membership site!</em></p>

<p>And we are looking to hire a new talented webdeveloper to expand our small team. What would you think about joining our small Agile team of highly qualified professionals? </p>

<p>You will be creating sexy, exiting and game changing experiences for the web, work for one of the industry leaders. And just be part of an awesome company. Some of the jobs key elements are:</p>

<ul>
  <li>
    <p>Implementing development projects</p>
  </li>
  <li>
    <p>Leading informal mentoring during day-to-day work</p>
  </li>
  <li>
    <p>Contribute to design of development projects</p>
  </li>
  <li>
    <p>Track, reduce, and prevent technical debt in Web Development projects</p>
  </li>
</ul>

<blockquote>
  <p>Motivated by principles of social responsibility, we deliver provocative media by embracing imagination, creativity and emerging technologies. Our models, customers and business partners are inspired by our fervid passion.</p>

</blockquote>

<blockquote>

  <p>Our experienced staff use state-of-the-art content production facilities to produce 10 shoots a week from concept to finished art, utilizing the most advanced digital capture, post production and delivery systems in the world.</p>

</blockquote>

<blockquote>

  <p>You will be working directly with our Web Dev Manager, Lead developer and colleagues in the web dev team. We need each individual to contribute for us to continue as a pioneer in our industry.</p>
</blockquote>

<p>If you posses a “Can do” attitude. Would like to work in the center of Amsterdam. And are able to identify your self in the criteria below. You might want to head over to our <a href="http://careers.abbywinters.com/job-opportunities/senior-php-developer/">career portal</a> for a more detailed description.  </p>

<p><strong>Technical competencies – Required</strong></p>

<ul>
  <li>
    <p>High level of skill with PHP 5</p>
  </li>
  <li>
    <p>High level of skill with Object Oriented Programming</p>
  </li>
  <li>
    <p>High level of skill with HTML/CSS</p>
  </li>
  <li>
    <p>High level of skill with JavaScript</p>
  </li>
  <li>
    <p>High level of skill with Internet Applications</p>
  </li>
  <li>
    <p>Moderate level of skill with Unit Testing and Test Driven Design</p>
  </li>
  <li>
    <p>Moderate level of skill with MySQL</p>
  </li>
  <li>
    <p>Moderate level of skill with Windows XP operating system</p>
  </li>
  <li>
    <p>Experience with the GNU/Linux operating system</p>
  </li>
  <li>
    <p>Competent with Revision Control systems (Subversion)</p>
  </li>
  <li>
    <p>Bachelor of Science in Computer Science, or equivalent experience</p>
  </li>
  <li>
    <p>Zend Certified Engineer, or equivalent experience</p>
  </li>
  <li>
    <p>At least 5 years experience in Web Application Development</p>
  </li>
</ul>

<p><strong>Technical competencies – Desired</strong></p>

<ul>
  <li>
    <p>Moderate level of skill with the Apache HTTP server</p>
  </li>
  <li>
    <p>Good understanding of the Model-View-Controller pattern</p>
  </li>
  <li>
    <p>Good understanding of the ActiveRecord Object-Relational-Mapping pattern</p>
  </li>
  <li>
    <p>Familiarity with Agile software development practices (Scrum)</p>
  </li>
  <li>
    <p>E-commerce</p>
  </li>
  <li>
    <p>Agile development experience</p>
  </li>
</ul>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2012/05/abbywinters-is-looking-for-new-developers/#disqus_thread">Comments</a>
      
      








  


<time datetime="2012-05-24T15:04:02+02:00" pubdate data-updated="true">May 24<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/-home/'>/home</a>, <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2012/04/regular-expression-name-based-matches/">Regular Expression Name Based Matches</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Normally when i write regular expressions with for instance <a href="http://php.net">PHP</a>´s <a href="http://php.net/preg_match">preg_match</a>. I will use the standard $matches array to catch the result of pattern matches. This array has a normal numeric index for each match found. And looks something like</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header" style="margin-bottom:-5px;"><span>Normal preg_match </span></figcaption>
 <div class="CodeRay">
  <div class="code"><pre>
<span class="local-variable">$matches</span> = <span class="predefined">array</span>();
<span class="predefined">preg_match</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/^Get(.+)Repository</span><span class="content">$</span><span class="content">/</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">GetFooBarRepository</span><span class="delimiter">&quot;</span></span>, <span class="local-variable">$matches</span>);
<span class="predefined">var_dump</span>(<span class="local-variable">$matches</span>);
</pre></div>
</div>
 </figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
array(2) {
  [0] =&gt; string(19) &quot;GetFooBarRepository&quot;
  [1] =&gt; string(6) &quot;FooBar&quot;
}
</pre></div>
</div>
 </figure></notextile></div>

<p>And there is nothing wrong with that. Except for the fact that numeric indexes are not always easy to work with. And it does not look all that clean in the code itself. SO last week my LD pointed out the fact that the likes using name based indexes for the matched patterns. And this is pretty sweet. I have seen it before but never bothered to adopt it myself. And the result looks like</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header" style="margin-bottom:-5px;"><span>Name based index preg_match </span></figcaption>
 <div class="CodeRay">
  <div class="code"><pre>
<span class="local-variable">$matches</span> = <span class="predefined">array</span>();
<span class="predefined">preg_match</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/^Get(?&lt;repositoryname&gt;.+)Repository</span><span class="content">$</span><span class="content">/</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">GetFooBarRepository</span><span class="delimiter">&quot;</span></span>, <span class="local-variable">$matches</span>);
<span class="predefined">var_dump</span>(<span class="local-variable">$matches</span>);
</pre></div>
</div>
 </figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
array(3) {
  [0] =&gt; string(19) &quot;GetFooBarRepository&quot;
  'repositoryName' =&gt; string(6) &quot;FooBar&quot;
  [1] =&gt; string(6) &quot;FooBar&quot;
}
</pre></div>
</div>
 </figure></notextile></div>

<p>And i have to say. It looks a lot cleaner. So i added this to my bag of tricks. And will be using it from now on.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2012/04/regular-expression-name-based-matches/#disqus_thread">Comments</a>
      
      








  


<time datetime="2012-04-15T21:14:49+02:00" pubdate data-updated="true">Apr 15<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2012/03/php-only-variables-should-be-passed-by-reference/">PHP: Only Variables Should Be Passed by Reference</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Last week i got this error while doing some coding with a new library. And at first i didn’t quite get what was causing this. The line in question looked like</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="local-variable">$url</span> = <span class="predefined">reset</span>(<span class="local-variable">$file</span>-&gt;getPaths());
</pre></div>
</div>
 </figure></notextile></div>

<p>So how can that throw an error like “Only variables should be passed by reference” you might ask? Well as it turns out to be. PHP functions don’t like arguments returned from another function. As with this case. The -&gt;getPaths() method holds a reference to the returned array. Which it shouldn’t but that’s another thing.</p>

<p>So i guess from now i will doing the thing below. Or check for references beforehand!</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="local-variable">$paths</span> = <span class="local-variable">$file</span>-&gt;getPaths();
<span class="local-variable">$url</span> = <span class="predefined">reset</span>(<span class="local-variable">$paths</span>);
</pre></div>
</div>
 </figure></notextile></div>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2012/03/php-only-variables-should-be-passed-by-reference/#disqus_thread">Comments</a>
      
      








  


<time datetime="2012-03-26T11:19:20+02:00" pubdate data-updated="true">Mar 26<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2012/02/using-ssh-key-authentication-with-egit-in-zendstudio/">Using SSH Key Authentication With EGit in ZendStudio</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>For the past few months i have been switching some projects over to <a href="http://git-scm.com/">git</a> from <a href="http://subversion.tigris.org/">Subversion</a>. And have been trying to get the hang of all the command line options available. And i will be doing that for a while longer until i get completely comfortable. And for communication to the remote git server i have been using SSH key authentication. Which works smoothly just like it did with Subversion. </p>

<p>But i wanted to check out the GIT support available in <a href="http://www.zend.com/products/studio/">Zend Studio 9</a>. And hit a problem pretty quickly. But i will describe that below. First i will create a local clone of my git project.</p>

<blockquote>
  <p>$ git clone ssh://[somehost]/~/git/project.git</p>
</blockquote>

<p>To test if everything is working i do a test commit. If that succeeds if push it out to the remote master.</p>

<blockquote><p>$ cd project.git<br />$ touch TEST<br />$ git commit <br />$ git push origin master</p></blockquote>

<p>So that works fine. Now time to see how Zen Studio handles this. To create a project i use the <strong>Create from Git</strong> option. And select the local checkout i just created. This will read the whole repository configuration. And you are basically done from here. But as i mentioned earlier, i had some difficulties getting things running smoothly. I discovered that when it was time to push changes to the master repository.</p>

<p>When i used the <strong>Push to Upstream</strong> option. I was greeted by a login panel that seemed to have selected the correct SSH key and user to perform the login. But when i typed the password, it just kept asking for the password. Again and again. Hmm. That sucks! The password was correct. I tried with a newly created key. No luck either. The last thing i tried was updating to a nightly build of <a href="http://www.eclipse.org/egit/">Egit</a> found <a href="http://www.eclipse.org/egit/download/">here</a>. But this offered no solution either.</p>

<p>After reading a couple of complaints i found this <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=326526">bug</a> report for the EGit eclipse plugin. The thread contains a solution for the login issue i was having. Gotta love Google!</p>

<p>Apparently the problem has to do with the encryption algorithm used to create the SSH keys. In this case the EGit plugin (which uses <a href="http://www.jcraft.com/jsch/">Jsch</a> to do the SSH communication) was having problems with <a href="http://en.wikipedia.org/wiki/Advanced_Encryption_Standard">AES</a> encrypted keys. And to solve the problem the Jsch library should be replaced with a newer version to make things work again.</p>

<p>So lets download this JSch library and update it manually. The library (JSch v 0.1.46) can be found <a href="http://www.jcraft.com/jsch/">here</a>.</p>

<blockquote><p>$ cd ZendStudio9<br />$ find . -name &#8216;*jsch*&#8217; -type f</p></blockquote>

<p>Found it <strong>plugins/com.jcraft.jsch_0.1.41.v201101211617.jar</strong>. So let’s try to update that.</p>

<blockquote><p>$ cp plugins/com.jcraft.jsch_0.1.41.v201101211617.jar plugins/com.jcraft.jsch_0.1.41.v201101211617.jar.backup<br />$ wget http://sourceforge.net/projects/jsch/files/jsch.jar/0.1.46/jsch-0.1.46.jar/download<br />$ mv jsch-0.1.46.jar plugins/com.jcraft.jsch_0.1.41.v201101211617.jar</p></blockquote>

<p>After restarting ZS everything worked fine again. Another problem solved! Thanks to the guys who posted in the EGit bug thread. Some good community Karma here! Time for other things. Hope it helps!</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2012/02/using-ssh-key-authentication-with-egit-in-zendstudio/#disqus_thread">Comments</a>
      
      








  


<time datetime="2012-02-28T16:17:19+01:00" pubdate data-updated="true">Feb 28<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/-home/'>/home</a>, <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>, <a class='category' href='http://blog.lenss.nl/tag/zend/'>Zend</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2012/02/recruiter-rant/">Recruiter Rant</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>While doing our routine <a href="http://sites.google.com/site/agiledevelopmentsite/process/sprint-retrospective">sprint retrospective</a> today. We got interrupted by our office manager Wendy. An important phone call for me. Hmm… Should have known.</p>

<p>I picked up the phone. And the guy (<a href="http://www.amoriabond.com/">Amoria Bond</a>) on the other end immediately started his sales pitch. O shit another one of those nasty recruiters. So after listening to him for a few seconds i quickly interrupted him. Told him i was not interested in a new job at all. And that he was a jerk and extremely unprofessional for calling me at the office. Completely unaware (or maybe intentionally?) what impact this might have if for instance my manager picks up the phone. Besides it’s just plain rude. </p>

<p>Now don’t get me wrong. It’s not a rant for nothing. I don’t hate recruiters. And have worked with some professional ones in the past. I’ve always enjoyed communicating with linda-lotte while she was still working for <a href="http://www.recruit4it.nl/">Recruit4it</a>. And the guys at <a href="http://www.starapple.nl">Starapple</a> are OK as well. But this guy today really pissed me off with his aggressive unmannered approach. It’s a shame i didn’t catch his name while i was in rant mode. But please don’t ever call me again.</p>

<p><strong>Update:</strong></p>

<p>It seems to be some form of new tactic to call developers in the office where they work. This happened a couple of times more after this post. So this is for the next recruiter that calls me in the office. I’ll personally come over and kick your ass!!</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2012/02/recruiter-rant/#disqus_thread">Comments</a>
      
      








  


<time datetime="2012-02-21T23:14:03+01:00" pubdate data-updated="true">Feb 21<span>st</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/-home/'>/home</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2012/02/wordpress-install-compromised/">Wordpress Install Compromised</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Last week i got an email from the Dutch <a href="https://www.ncsc.nl/">NCSC</a> (Nationaal Cyber Security Centrum). Apparently one of the nodes i manage for a customer was part of a <a href="http://en.wikipedia.org/wiki/Botnet">botnet</a>. There were no further demands. They just informed me about the issue. Damn cool! Being part of a <a href="http://en.wikipedia.org/wiki/Botnet">botnet</a> however. Not so cool!</p>

<p>With the email came a small excerpt of a IRC channel log. I recognized the node. So SSH’ed into that specific node. And used <a href="http://linux.die.net/man/8/netstat">netstat</a> to check for any strange connections. A connection on port 20 to the C&amp;C; node of the <a href="http://en.wikipedia.org/wiki/Botnet">botnet</a>. Thats not good.</p>

<blockquote><p>$ netstat -an<br />Active Internet connections (servers and established)<br />Proto Recv-Q Send-Q Local Address           Foreign Address         State<br />tcp        0      0 xxx.xxx.xxx.xx:20       69.162.80.62:20         ESTABLISHED</p></blockquote>

<p>In the email from NCSC it was mentioned to look for files called <strong>wp-rss3.php</strong>. But a search for this file did not return any hits. Hmmm. And i still  had no idea which site it concerned. Since a couple were running on this particular node. The only thing certain. It’s <a href="http://wordpress.org">Wordpress</a> related. So i started searching for recent <a href="http://wordpress.org">Wordpress</a> compromises. And found a lot of hits on Google for the <a href="http://code.google.com/p/timthumb/">timThumb</a> and <a href="http://code.google.com/p/wps3slider/">wps3slider</a> plugins. But checking the log files for these plugins revealed nothing. And for some weird reason i just cleaned up the log partition a couple of days before. So not much luck there.</p>

<p>Some more Googling <a href="http://markmaunder.com/2011/08/01/zero-day-vulnerability-in-many-wordpress-themes/">told</a> me to do a search on the Wordpress installs for the PHP function <a href="http://php.net/manual/en/function.base64-decode.php">base64_decode()</a>. O well. Lets give it a try. Some suspicious files did show up instantly.</p>

<blockquote><p>$ find . -type f -exec grep -l &#8216;base64_decode&#8217; {} \;<br />./uploads/2010/06/wp-rss4.php ([source](http://pastebin.com/rWD1Tfxk))<br />./uploads/2011/05/alienee.php ([source](http://pastebin.com/LwDaSFUK))<br />./plugins/wps3slider/temp/34e3a3a74f6e2d0f236bdd3ba70c0c03.php ([source](http://pastebin.com/fG6pDWC2))<br />./plugins/wps3slider/temp/cf2cdb3ad3249b9692de07290f16f287.php ([encoded](http://pastebin.com/pRSwG7Ud)) ([decoded](http://pastebin.com/0qQ3Qeut))<br />./plugins/wps3slider/temp/771b821c974131c67e34c83d8d2db725.php ([encoded](http://pastebin.com/KUP8xBEQ)) ([decoded](http://pastebin.com/Z77iMH1X))<br />./plugins/wps3slider/temp/2b3753ea4769084f2e571737b695b03a.php ([encoded](http://pastebin.com/RLgsTerk)) ([decoded](http://pastebin.com/KwgqCS8R))<br />./plugins/wps3slider/temp/7228f168d9692eafeafc54dbc3a1ab49.php ([encoded](http://pastebin.com/HeE3PdnJ)) ([decoded](http://pastebin.com/FzCqSfg6))<br />./plugins/wps3slider/uploads/1.php ([source](http://pastebin.com/YJ17ygSL))<br />/var/tmp/dc.pl ([encoded](http://pastebin.com/YTusrVZk)) ([decoded](http://pastebin.com/0WfqZt0R))</p></blockquote>

<p>Interesting. A quick look at the files showed that most of them were obfuscated. But not all. Two of the files were IRC bots written in <a href="http://www.php.net/">PHP</a>. At this moment i couldn’t resist but crack a little smile. But its also a reminder of how fragile the web really is. I quickly moved the files out of the way. And rebooted the machine. When it  came back online i monitored all connections for a while. But the connection to the C&amp;C; node was not restored. So i informed NCSC. And went back to bed!</p>

<p>The Wordpress admin should have kept the sites up to date. Lesson learned i hope! of course i could not resist to come back to it later. And so i did. I started by searching the Apache log files for <strong>wp-rss4.php</strong>. And found a couple of instances where this file was directly called. From a total of 4 different IP addresses.</p>

<blockquote>
  <p>69.162.80.62</p>
</blockquote>

<p>This is the IP address of the C&amp;C; server.</p>

<blockquote><p>186.241.16.25<br />201.8.237.18<br />201.8.226.109</p></blockquote>

<p>These IP addresses are all originating from Brasil. No further information is available at this moment. After that i started poking around the trojans / IRC bots found earlier. And as mentioned earlier. There were two bots installed on the server, One was running. The other wasn’t. This is configuration snippet from both bots.</p>

<p>The first bot. And the one i was informed about.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
var $config = array(&quot;server&quot;=&gt;&quot;antesedepois.servegame.com&quot;,^M
  &quot;port&quot;=&gt;20,^M
  &quot;pass&quot;=&gt;&quot;depois&quot;,^M
  &quot;prefix&quot;=&gt;&quot;depois&quot;,^M
  &quot;maxrand&quot;=&gt;8,^M
  &quot;chan&quot;=&gt;&quot;#depoiswp&quot;,^M
  &quot;key&quot;=&gt;&quot;&quot;,^M
  &quot;modes&quot;=&gt;&quot;+iB-x&quot;,^M
  &quot;password&quot;=&gt;&quot;depois&quot;,^M
  &quot;trigger&quot;=&gt;&quot;.&quot;,^M
  &quot;hostauth&quot;=&gt;&quot;*&quot; // * for any hostname^M
);
</pre></div>
</div>
 </figure></notextile></div>

<p>And the second one</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
var $config = array(&quot;server&quot;=&gt;&quot;58.225.75.155&quot;,
  &quot;port&quot;=&gt;9999,
  &quot;pass&quot;=&gt;&quot;&quot;,
  &quot;prefix&quot;=&gt;&quot;animal&quot;,
  &quot;maxrand&quot;=&gt;8,
  &quot;chan&quot;=&gt;&quot;#animal&quot;,
  &quot;key&quot;=&gt;&quot;&quot;,
  &quot;modes&quot;=&gt;&quot;+iB-x&quot;,
  &quot;password&quot;=&gt;&quot;oishi&quot;,
  &quot;trigger&quot;=&gt;&quot;.&quot;,
  &quot;hostauth&quot;=&gt;&quot;*!*@The.Black.Cat&quot; // * for any hostname
);
</pre></div>
</div>
 </figure></notextile></div>

<p>Notice the <strong>^M</strong> characters at the end. Seems like somebody is using windows. So now we have login details for two C&amp;C; servers. Why not take a look. </p>

<blockquote>

  <ul>
    <li>$ ircii </li>
    <li>/server antesedepois.servegame.com:20</li>
  </ul>
</blockquote>

<p>Some standard IRC stuff</p>

<blockquote><p>*** Connecting to port 20 of server antesedepois.servegame.com<br />*** Welcome to the Internet Relay Chat Network, root (from IRCPRIVATE)<br />*** /etc/irc/script/local V0.5 for Debian finished. Welcome to ircII.<br />*** If you have not already done so, please read the new user information with /HELP NEWUSER<br />*** Your host is IRCPRIVATE, running version 1.2.1546<br />*** This server was created jan 27 2012 at 06: 29:02 HodB (Serial # 00-00-00)<br />*** channel modes available abdefghijklmnopqrstuvwxyzACEFIKLMOPT<br />*** IRCX <br />*** There are 6 users and 362 invisible on 1 servers<br />*** 7 channels have been formed<br />*** This server has 368 clients and 0 servers connected<br />*** Current local users:  368  Max: 989<br />*** Current global users:  368  Max: 989<br />*** MOTD Not Present</p></blockquote>

<p>So let’s check the channels on this thing</p>

<blockquote>
  <p>/list</p>
</blockquote>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
*** Channel    Users  Topic
*** #depoiswp  360    Entrou = Ban :)
*** #grmteam   6      
*** #depoisSca 4      Entrou = Ban :)
*** #depoisSca 4      Entrou = Ban :)
*** #depoisVul 6      Entrou = Ban :)
*** #rfi       3      
*** #sql       1  
</pre></div>
</div>
 </figure></notextile></div>

<p>I entered all of the channels and waited for a while. But no activity took place. The only really interested channel is #depoiswp. This is the channel where all the bots connect. At the time i logged in there were about 360 of them  available. I immediately recognized the log excerpt send to me by the NCSC.</p>

<blockquote><p>*** Topic for #depoiswp: Entrou = Ban :)<br />*** #depoiswp SYSTEM 1327945185<br />(#depoiswp/#depoiswp) Entrou = Ban :)<br />*** [A]depois88802849 (~depois48170648@68.233.238.XX) has joined channel #depoiswp<br />*** #depoiswp 1327653297<br />*** [A]depois13436992 (~depois92951214@212.227.114.XX) has joined channel #depoiswp<br />*** [A]depois18833547 (~depois69088341@184.154.130.XX) has joined channel #depoiswp<br />*** [A]depois80116634 (~depois13242297@213.251.189.XXX) has joined channel #depoiswp<br />*** [A]depois31855907 (~depois23946193@82.85.28.XXX) has joined channel #depoiswp<br />*** [A]depois25458508 (~depois64120008@87.106.214.XX) has joined channel #depoiswp<br />*** [A]depois17803105 (~depois55004207@74.208.16.XX) has joined channel #depoiswp<br />*** [A]depois96800217 (~depois89042073@174.121.216.XXX) has joined channel #depoiswp<br />*** [A]depois17108432 (~depois51961332@209.68.1.XXX) has joined channel #depoiswp<br />*** [A]depois95432403 (~depois13925479@209.68.1.XXX) has joined channel #depoiswp<br />*** [A]depois96515275 (~depois10767943@195.74.38.XXX) has joined channel #depoiswp<br />*** [A]depois73596561 (~depois90562179@69.89.31.XXX) has joined channel #depoiswp<br />*** [A]depois85357227 (~depois31697723@64.191.115.XX) has joined channel #depoiswp<br />*** [A]depois07993697 (~depois40240585@79.96.128.XX) has joined channel #depoiswp<br />*** [A]depois97441253 (~depois19633359@193.189.74.XX) has joined channel #depoiswp<br />*** [A]depois76843389 (~depois55419325@176.9.34.XXX) has joined channel #depoiswp<br />*** [I]depois16679788 (~depois28004829@213.171.218.XXX) has joined channel #depoiswp<br />*** [A]depois88178285 (~depois05296405@74.220.215.XXX) has joined channel #depoiswp</p></blockquote>

<blockquote><p>&lt;[A]depois16231776&gt; [Attack Finalizado!]: 1749605 MB enviados / Pacotes enviados: 14580 MB/s <br />&lt;[I]depois60130568&gt; [Attack Finalizado!]: 75 MB enviados / Pacotes enviados: 1 MB/s <br />&lt;[I]depois48664304&gt; [Attack Finalizado!]: 75 MB enviados / Pacotes enviados: 1 MB/s <br />&lt;[I]depois65415449&gt; [Attack Finalizado!]: 75 MB enviados / Pacotes enviados: 1 MB/s <br />&lt;[I]depois11325010&gt; [Attack Finalizado!]: 75 MB enviados / Pacotes enviados: 1 MB/s <br />*** [A]depois40994506 (~depois72760562@79.98.28.XX) has joined channel #depoiswp<br />&lt;[A]depois07568398&gt; [Attack Finalizado!]: 2187317 MB enviados / Pacotes enviados: 18228 MB/s <br />&lt;[A]depois55402758&gt; [Attack Finalizado!]: 11425 MB enviados / Pacotes enviados: 95 MB/s <br />*** [A]depois03383512 (~depois52457929@74.220.215.XX) has joined channel #depoiswp<br />&lt;[A]depois37064023&gt; [Attack Finalizado!]: 1264043 MB enviados / Pacotes enviados: 10534 MB/s <br />&lt;[A]depois69234369&gt; [Attack Finalizado!]: 2205504 MB enviados / Pacotes enviados: 18379 MB/s <br />*** [A]depois74911768 (~depois04730096@74.220.215.XX) has joined channel #depoiswp<br />*** Signoff: [A]depois31575043 (Connection reset by peer)<br />&lt;[I]depois17710498&gt; [Attack Finalizado!]: 81 MB enviados / Pacotes enviados: 1 MB/s <br />&lt;[I]depois28464134&gt; [Attack Finalizado!]: 81 MB enviados / Pacotes enviados: 1 MB/s</p></blockquote>

<p>Thats fine and all. I disconnected shortly after that. I really have no reason  to be poking around there now do i ;) Besides who want to  interfere with an ongoing investigation. So poking around the files a bit more didnot  reveal  all that information.Except for the fact that besides a IRC bot a backdoor was also installed in the form of a perl script dc.pl installed in /var/tmp. So who knows. The server might be rooted at this point.</p>

<p>I spend some more time on decoding the bot and trojan contents. And posted them on pastebin if you are interested. The server is going to be  decommissioned soon. So i am not going to pay much more attention to it.</p>

<blockquote>
  <p>1.php and b2dabd0e2c42b55fabf741bcac29f857.php</p>
</blockquote>

<p>Web Shell by boff</p>

<blockquote>
  <p>2b3753ea4769084f2e571737b695b03a.php</p>
</blockquote>

<p>This file was base64 encoded but once decoded reveled to be a simple script by v0pCr3w and nob0dyCr3w to run system commands on the server. Also included was a simple upload form.</p>

<blockquote>
  <p>34e3a3a74f6e2d0f236bdd3ba70c0c03.php</p>
</blockquote>

<p>c99 injector v1</p>

<blockquote>
  <p>771b821c974131c67e34c83d8d2db725.php</p>
</blockquote>

<p>This script was rot13 and base64 encoded and was trying to cleanup after the hacker. And install a second back door.</p>

<blockquote>
  <p>7228f168d9692eafeafc54dbc3a1ab49.php and cce0a37ffc138a8908da05977639bed1.php</p>
</blockquote>

<p>Again rot13 and base64 encoded.But this script contained something that looks like a control panel. The page title was ‘Hacked by Sherif #oishi @ ALLnet’</p>

<blockquote>
  <p>alienee.php</p>
</blockquote>

<p>Still working on this one</p>

<blockquote>
  <p>cf2cdb3ad3249b9692de07290f16f287.php and ded3244749701c4eb5a29b959ad56736.php</p>
</blockquote>

<p>These files contained a second bot that was connecting to a whole different server. Probably exploited by another crew?</p>

<blockquote>
  <p>dc.pl</p>
</blockquote>

<p>This Perl backdoor was created by one  of the IRC bot scripts. And was hiding in /var/tmp after creation.</p>

<ul>
  <li>And some links i found useful while working on this issue.</li>
  <li><a href="http://eromang.zataz.com/2012/01/08/gangbang-mytijn-org-malware-spreader-down/">http://eromang.zataz.com/2012/01/08/gangbang-mytijn-org-malware-spreader-down/</a></li>
  <li><a href="http://www.madirish.net/content/hookworm-stealth-php-backdoor">http://www.madirish.net/content/hookworm-stealth-php-backdoor</a></li>
  <li><a href="http://markmaunder.com/2011/08/01/zero-day-vulnerability-in-many-wordpress-themes/">http://markmaunder.com/2011/08/01/zero-day-vulnerability-in-many-wordpress-themes/</a></li>
</ul>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2012/02/wordpress-install-compromised/#disqus_thread">Comments</a>
      
      








  


<time datetime="2012-02-06T22:37:10+01:00" pubdate data-updated="true">Feb 6<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/-home/'>/home</a>, <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/security/'>Security</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2012/02/php-critical-bug-cve-2012-0830/">PHP Critical Bug CVE-2012-0830</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Ok it’s a bit late But i have been laying under a rock for the last week. And i guess it can’t hurt!</p>

<p>Last week a critical bug was discovered in PHP. Which affects versions 5.3.9 and 5.2.17. The bug could be exploited to run arbitrary code on a remote PHP system. So upgrade your systems. And of course Stefan Esser <a href="http://news.php.net/php.internals/57655">popped up</a> with some wise words :)… O well i still think the guy does great work.</p>

<p>More info about the issue can be found on packetstorm (<a href="http://packetstormsecurity.org/files/cve/CVE-2012-0830">CVE-2012-0830</a>) </p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2012/02/php-critical-bug-cve-2012-0830/#disqus_thread">Comments</a>
      
      








  


<time datetime="2012-02-05T13:39:43+01:00" pubdate data-updated="true">Feb 5<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/security/'>Security</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2011/11/php-getting-strict-sessions/">PHP Getting Strict Sessions</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>For years <a href="http://php.net/">PHP</a> has been vulnerable to session adoption which can enable <a href="http://en.wikipedia.org/wiki/Session_fixation">session fixation</a>. And since sessions are a major part of web applications now a days. A lot of platforms are open and waiting for an attack to happen.</p>

<p><strong>session adoption &amp; session fixation</strong></p>

<p>The problem exists because the current session module does not validate the session id that comes in from a cookie. This means uninitialized session id’s can be passed by the client. This happens due to the fact that browsers overwrite cookie if multiple cookies are send per request.
Some people would say this is solvable by implementing <a href="http://nl3.php.net/manual/en/function.session-regenerate-id.php">session_regenerate_id()</a>. But this is not the case.</p>

<p>Because session fixation can be used to take over control of web applications. Validation is required when multiple cookies are send per request. When multiple cookie are send with a request. Browsers send multiple cookies without domain / path information. This way it’s impossible to tell which cookie belongs to which domain. </p>

<p><strong>So how do we fix this?</strong></p>

<p>There is some userland code that does offer the ability to validate session data. But this has not been widely adopted by other developers.</p>

<p>Code that adds the session ID as a validation key:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
session_destory();
session_regenerate_id();
<span class="predefined">$_SESSION</span>[<span class="string"><span class="delimiter">'</span><span class="content">valid_id</span><span class="delimiter">'</span></span>] = session_id(); 
</pre></div>
</div>
 </figure></notextile></div>

<p>And the code to check if the session was properly initialized:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="keyword">if</span> (<span class="predefined">$_SESSION</span>[<span class="string"><span class="delimiter">'</span><span class="content">valid_id</span><span class="delimiter">'</span></span>] !== session_id()) {
  <span class="predefined">die</span>(<span class="string"><span class="delimiter">'</span><span class="content">Invalid use of session ID</span><span class="delimiter">'</span></span>);
}
</pre></div>
</div>
 </figure></notextile></div>

<p>Thank god the internal developer know this. And are working to fix this. For the past days there has been an interesting discussion going on on the <a href="http://news.php.net/php.internals">internals</a> list. About applying a patch that will fix this. The patch will add some new php.ini features and a new method validate_id() for the session save handler. Hopefully this will be available in version 5.4.</p>

<p>To not break BC strict_mode will be disabled by default. But can be enabled by setting the following setting in php.ini. When enabled uninitialized session ID will be discarded.</p>

<blockquote>
  <p>session.use_strict_mode=0</p>
</blockquote>

<p>To prevent a DoS instead of session fixation. An new feature has been added that deletes possible malicious cookies that prevent new session ID.</p>

<blockquote>
  <p>session.safe_session_cookie=1</p>
</blockquote>

<p>You can read more about session fixation and the upcoming patch on the <a href="https://wiki.php.net/rfc/strict_sessions">PHP-Wiki</a></p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2011/11/php-getting-strict-sessions/#disqus_thread">Comments</a>
      
      








  


<time datetime="2011-11-30T15:38:28+01:00" pubdate data-updated="true">Nov 30<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/security/'>Security</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>, <a class='category' href='http://blog.lenss.nl/tag/zend/'>Zend</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2011/11/abbywinters-com-is-hiring/">Abbywinters.com Is Hiring!</a></h1>
	
	</header>
</header>


  <div class="articletext"><p><img class="left" src="http://blog.lenss.nl/images/2011/11/aw-logo-roundel-blue.png" />
If you’re looking for a new challenging and exiting Senior Webdeveloper position. Don’t look any further. If you already think you have the job of your dreams. Think again!</p>

<p><em><a href="http://www.abbywinters.com">abbywinters.com</a> <strong>(NSFW)</strong> is one of the largest and most ethical, highly rated, well designed, and successful erotic websites in the world today. abbywinters.com is the WINNER of the AVN 2011 Awards for Best Membership site!</em></p>

<p>And we are looking to hire a new talented webdeveloper to expand our small team. What would you think about joining our small Agile team of highly qualified professionals? </p>

<p>You will be creating sexy, exiting and game changing experiences for the web, work for one of the industry leaders. And just be part of an awesome company. Some of the jobs key elements are:</p>

<ul>
  <li>
    <p>Implementing development projects</p>
  </li>
  <li>
    <p>Leading informal mentoring during day-to-day work</p>
  </li>
  <li>
    <p>Contribute to design of development projects</p>
  </li>
  <li>
    <p>Track, reduce, and prevent technical debt in Web Development projects</p>
  </li>
</ul>

<blockquote>
  <p>Motivated by principles of social responsibility, we deliver provocative media by embracing imagination, creativity and emerging technologies. Our models, customers and business partners are inspired by our fervid passion.</p>

</blockquote>

<blockquote>

  <p>Our experienced staff use state-of-the-art content production facilities to produce 10 shoots a week from concept to finished art, utilizing the most advanced digital capture, post production and delivery systems in the world.</p>

</blockquote>

<blockquote>

  <p>You will be working directly with our Web Dev Manager, Lead developer and colleagues in the web dev team. We need each individual to contribute for us to continue as a pioneer in our industry.</p>
</blockquote>

<p>If you posses a “Can do” attitude. Would like to work in the center of Amsterdam. And are able to identify your self in the criteria below. You might want to head over to our <a href="http://careers.abbywinters.com/job-opportunities/senior-php-developer/">career portal</a> for a more detailed description.  </p>

<p><strong>Technical competencies – Required</strong></p>

<ul>
  <li>
    <p>High level of skill with PHP 5</p>
  </li>
  <li>
    <p>High level of skill with Object Oriented Programming</p>
  </li>
  <li>
    <p>High level of skill with HTML/CSS</p>
  </li>
  <li>
    <p>High level of skill with JavaScript</p>
  </li>
  <li>
    <p>High level of skill with Internet Applications</p>
  </li>
  <li>
    <p>Moderate level of skill with Unit Testing and Test Driven Design</p>
  </li>
  <li>
    <p>Moderate level of skill with MySQL</p>
  </li>
  <li>
    <p>Moderate level of skill with Windows XP operating system</p>
  </li>
  <li>
    <p>Experience with the GNU/Linux operating system</p>
  </li>
  <li>
    <p>Competent with Revision Control systems (Subversion)</p>
  </li>
  <li>
    <p>Bachelor of Science in Computer Science, or equivalent experience</p>
  </li>
  <li>
    <p>Zend Certified Engineer, or equivalent experience</p>
  </li>
  <li>
    <p>At least 5 years experience in Web Application Development</p>
  </li>
</ul>

<p><strong>Technical competencies – Desired</strong></p>

<ul>
  <li>
    <p>Moderate level of skill with the Apache HTTP server</p>
  </li>
  <li>
    <p>Good understanding of the Model-View-Controller pattern</p>
  </li>
  <li>
    <p>Good understanding of the ActiveRecord Object-Relational-Mapping pattern</p>
  </li>
  <li>
    <p>Familiarity with Agile software development practices (Scrum)</p>
  </li>
  <li>
    <p>E-commerce</p>
  </li>
  <li>
    <p>Agile development experience</p>
  </li>
</ul>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2011/11/abbywinters-com-is-hiring/#disqus_thread">Comments</a>
      
      








  


<time datetime="2011-11-22T14:46:51+01:00" pubdate data-updated="true">Nov 22<span>nd</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/javascript/'>Javascript</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/sql/'>SQL</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2011/11/ubuntu-11-10-issues-after-fresh-install/">Ubuntu 11.10 Issues After Fresh Install</a></h1>
	
	</header>
</header>


  <div class="articletext"><p><strong>Update: 13-11-2011</strong></p>

<p>I decided to give Ubuntu another try. After downloading and burning a fresh image. I did a clean install. And this time the result was a lot better then the first time. Maybe i just had a bad disk.</p>

<p>Unity still caused me issues. Mainly because i am running a dual monitor setup. And i wan to use a TwinView setup. This just does not seem to work at the moment. So i install GNOME Shell. And that seems to work a lot smoother with two screens. Even my sound issues have been resolved magically. Maybe i should stick with Ubuntu a bit longer.</p>

<p><del>This weekend i decided to finally try to upgrade Ubuntu to the latest version (11.10). And since the upgrade process was not working out for me. I had no other choice but to do a clean install. No problem. It was time for a clean install anyway.</del></p>

<p><del>After fighting my way through a pile of bad rewritable DVDs i finally managed to write to disc that didn’t halt in the middle of the install process. And finished the install quite quickly. No problem there.</del></p>

<p><del>The <a href="https://launchpad.net/lightdm">Lightgdm</a> greeting instead of the old <a href="http://projects.gnome.org/gdm/">GDM</a> interface was nice. I logged in. And then it hit me. O shit they hooked Ubuntu up with the <a href="http://unity.ubuntu.com/">Unity</a> interface. The last time i upgraded Ubuntu that was the first thing i disabled. But my second screen wasn’t activated. So i decided to install the Nvidia drivers first. And then did a reboot.</del></p>

<p><del>After the system came back up. The desktop environment didn’t load anymore. And if i waited long enough the whole system would crawl to a halt. Damn! At this point i was getting sleepy. And didn’t want to spend the whole night poking around the system trying to fix this. So a bit of Google magic later i found <a href="http://blog.al4.co.nz/2011/10/slow-desktop-performance-on-ubuntu-11-10-with-nvidia-graphics-cards/">this</a>. Some issues related to the current Nvidia driver. So i upgraded to the 285.05 version</del></p>

<p><del></del></p>

<blockquote>
  <p>$ sudo bash
$ add-apt-repository ppa:ubuntu-x-swat/x-updates
$ apt-get update &amp;&amp; apt-get upgrade
$ reboot</p>
</blockquote>

<p>&lt;/del&gt;</p>

<p><del>And after a reboot the desktop was fine again. Nice!</del></p>

<p><strong>World of Warcraft</strong></p>

<p>After that i installed wine and copied back the old files i already had installed previously. But World of Warcraft didn’t want to start anymore. And although i planned not to play for a while. This got me poking around. And of course couldn’t find a solution. So i downloaded a new game client from battle.net. And started a fresh install. But when the launcher came up. It crashed just like before. Tried it a couple more times. When i noticed it was crashing starting the download. SO i started poking around in the download settings. And disabled peer-to peer. And voila! It started working for me again.</p>

<blockquote>
  <p>Options &gt; Downloader Preferences 
(uncheck ¨Enable peer-to-peer Transfer¨)</p>
</blockquote>

<p><del><strong>Lets remove Unity!</strong></del></p>

<p><del>Although i kind alike the <a href="http://unity.ubuntu.com/">Unity</a> interface. It wasn’t running smoothly. And i was having some serious CPU load issues. So i decided to remove it once again. This time. It wasn’t as easy though. I followed the steps in <a href="http://linux-software-news-tutorials.blogspot.com/2011/10/ubuntu-1110-oneiric-remove-unity-and.html">this</a> post. Only to come to the realization that its <a href="http://www.gnome.org/gnome-3/">Gnome 3</a> i´m dealing with and not Gnome2. O well lets give it a try. </del></p>

<p><del>So after messing with the themes a bit. I got the normal look back. Now the only thing annoying left is the bottom bar. That has to go. And preferably moved to the second screen. This was surprisingly easy for a change. Start up DConfig Editor from the Applications menu. And navigate to.</del></p>

<p><del></del></p>

<blockquote>
  <p>org &gt; gnome &gt; gnome-panel &gt; layout &gt; toplevels</p>
</blockquote>

<p>&lt;/del&gt;</p>

<p><del>(then change)</del></p>

<blockquote>
  <p>monitor : 1
orientation : top</p>
</blockquote>

<p>&lt;/del&gt;</p>

<p><del>And fix the freaking <a href="http://askubuntu.com/questions/69306/tilde-and-double-quote-keys-dont-work-on-the-command-line">keyboard</a></del></p>

<p><del>Sound still makes a crackling noise!</del></p>

<p><del>But at least i have a desktop that looks reasonably the same as my old and trusted Gnome2 one did. </del></p>

<p><a href="http://blog.lenss.nl/images/2011/11/Screenshot-at-2011-11-06-231619.png"><img src="http://blog.lenss.nl/images/2011/11/Screenshot-at-2011-11-06-231619-300x93.png" alt="" /></a></p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2011/11/ubuntu-11-10-issues-after-fresh-install/#disqus_thread">Comments</a>
      
      








  


<time datetime="2011-11-07T00:26:27+01:00" pubdate data-updated="true">Nov 7<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/-home/'>/home</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  

  <ul class="pager">
    
    <li><a href="http://blog.lenss.nl/page/4/">&larr; Older</a></li>
    
    
    <li><a href="http://blog.lenss.nl/page/2/">Newer &rarr;</a></li>
    
  </ul>

  <div class="blog-copy">
      Copyright &copy; 2014 - Thijs Lensselink -
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  </div>
</div>

	      </div>
	  </div>

        </div>

        <div class="col-sm-4 col-sm-offset-0 blog-sidebar">
	    <div id="sidebar">
	       
	           
<div class="sidebox">
	<div class="me">
		<a href="http://www.zend.com/store/education/certification/yellow-pages.php#show-ClientCandidateID=ZEND006598"><img src="http://blog.lenss.nl/images/php5-zce-logo-new.gif" height="50" /></a>
		<a href="http://stackoverflow.com/users/476697/tlenss">
			<img src="http://stackoverflow.com/users/flair/476697.png?theme=dark" width="179" height="50" alt="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
		</a>
		<div class="gpg">
			Key ID : <a href="http://blog.lenss.nl/C773940D.asc">0xC773940D</a><br/>
			Fingerprint : 9AF2 38D6 3172 2F3E 112F 9024 C558 F5CD C773 940D
		</div>
	</div>
</div>

<section>
  <div class="sidebox">
	<h1>Recent entries</h1>
	<ul class="linklist">
		
		<li><a href="http://blog.lenss.nl/2014/09/secure-cloud-storage-with-google-and-encfs-on-ubuntu/">Secure cloud storage with Google and encfs on Ubuntu</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/11/first-weekday-of-month-in-php/">Get the first weekday of the month in PHP</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/git-move-folder-containing-submodules/">Renaming a folder in git that contains submodules</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/clover-forcast-for-php-in-jenkins/">Fixing the clover forcast for PHP projects in Jenkins</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/08/github-and-multiple-ssh-keys/">Github, SSH and multiple repositories</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/07/memory-exhaust-issue-PHP-and-APM/">Memory exhaust issue PHP and APM</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/06/php-55-released/">PHP 5.5.0 released</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/03/casting-weirdness-with-PHP/">Casting weirdness with PHP</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/02/zend-optimizer%2B-integrated-in-5.5/">Zend Optimizer+ integrated into 5.5</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/02/phpness-serious-wtf/">PHPness Serious WTF</a></li>
		
	</ul>
</div>
</section>

<div class="sidebox ad">
	<script type="text/javascript"><!--
	google_ad_client = "ca-pub-0921745317573569";
	/* nlblue_side */
	google_ad_slot = "7706621160";
	google_ad_width = 300;
	google_ad_height = 250;
	//-->
	</script>
	<script type="text/javascript"
	src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
</div>
<div class="sidebox">
	<h1>Tags</h1>
	<ul id="tag-cloud" class="blocklist"><a href='http://blog.lenss.nl/tag/-home' style='font-size: 116.1344537815126%'>/home(32)</a> <a href='http://blog.lenss.nl/tag/cloud' style='font-size: 100.50420168067227%'>Cloud(1)</a> <a href='http://blog.lenss.nl/tag/code' style='font-size: 160.0%'>Code(119)</a> <a href='http://blog.lenss.nl/tag/design' style='font-size: 103.02521008403362%'>Design(6)</a> <a href='http://blog.lenss.nl/tag/freelance' style='font-size: 102.01680672268907%'>Freelance(4)</a> <a href='http://blog.lenss.nl/tag/git' style='font-size: 101.00840336134453%'>Git(2)</a> <a href='http://blog.lenss.nl/tag/google' style='font-size: 101.5126050420168%'>Google(3)</a> <a href='http://blog.lenss.nl/tag/javascript' style='font-size: 104.03361344537815%'>Javascript(8)</a> <a href='http://blog.lenss.nl/tag/jenkins' style='font-size: 100.50420168067227%'>Jenkins(1)</a> <a href='http://blog.lenss.nl/tag/jquery' style='font-size: 101.00840336134453%'>Jquery(2)</a> <a href='http://blog.lenss.nl/tag/magento' style='font-size: 101.00840336134453%'>Magento(2)</a> <a href='http://blog.lenss.nl/tag/php' style='font-size: 135.29411764705884%'>PHP(70)</a> <a href='http://blog.lenss.nl/tag/security' style='font-size: 104.53781512605042%'>Security(9)</a> <a href='http://blog.lenss.nl/tag/sql' style='font-size: 103.02521008403362%'>SQL(6)</a> <a href='http://blog.lenss.nl/tag/tech' style='font-size: 148.9075630252101%'>Tech(97)</a> <a href='http://blog.lenss.nl/tag/zend' style='font-size: 104.03361344537815%'>Zend(8)</a> </ul>
	<div style="clear:both;"></div>
</div>
<section>
  <div class="sidebox">
	<h1>GitHub Repos</h1>
	
	<ul class="linklist" id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/tlenss" class="github-follow-button">Follow On GitHub</a>
  
</div>
</section>


<section>
  <div class="sidebox">
	<!-- <h1>Latest Tweets</h1> -->
<a class="twitter-timeline" href="https://twitter.com/tlenss" data-widget-id="408894330036703232">Tweets by @tlenss</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
</section>


	       
	    </div>
        </div>

      </div>

    </div>

    <script src="http://blog.lenss.nl/javascripts/jquery-2.1.0.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/bootstrap-3.1.1.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/modernizr-2.0.js"></script>
    <script src="http://blog.lenss.nl/javascripts/ender.js"></script>
    <script src="http://blog.lenss.nl/javascripts/octopress.js"></script>
    <script src="http://blog.lenss.nl/javascripts/github.js"></script>
    <script src="http://blog.lenss.nl/javascripts/twitter.js"></script>
    <script src="http://blog.lenss.nl/javascripts/jquery.cookie.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/adn-timeline.js"></script>
    <script src="http://octophile.com/widgets.js"></script>
    <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = 'http://blog.lenss.nl/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tlenss',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8003524-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  </body>
</html>
