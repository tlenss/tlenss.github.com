
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Thijs Lensselink's Blog</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Run Composer on Git Clone I work on a couple of projects that use Composer to manage the dependencies. And a coworker asked if it was possible to &hellip;">
    
    <meta name="author" content="Thijs Lensselink">
    
    <link rel="canonical" href="http://blog.lenss.nl/">
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="http://feeds.feedburner.com/ThijsLensselinksBlog" rel="alternate" title="Thijs Lensselink's Blog" type="application/atom+xml">

    <link href="/stylesheets/screen.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap-theme.min.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap-responsive.css" rel="stylesheet">
    <link href="/stylesheets/font-awesome.min.css" rel="stylesheet">
    <link href="/stylesheets/lenss.css" rel="stylesheet">
    
  </head>


<body   >

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><i class="fa fa-linux"></i> lenss<span class="lenssnl">.nl/blog</span></a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="http://lenss.nl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Www']);">Home</a></li>
            <li class="active"><a href="http://blog.lenss.nl/" class="lenssnl" onClick="_gaq.push(['_trackEvent', 'External-Nav Links', 'Click', 'Blog']);">Blog</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="row">

        <div class="col-sm-8">
	
          <div id="content">
	      <div class="inner">
	      <div class="blog-index">
  
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2015/02/composer-install-on-git-clone/">Run Composer on Git Clone</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>I work on a couple of projects that use <a href="https://getcomposer.org/">Composer</a> to manage the dependencies. And a coworker asked if it was possible to automate running <code>composer install</code> after cloning a repo. It sounded like a good idea. As i sometimes forget to run the command myself. So i did some research. And it turned out to be quite easy.</p>

<p>To makee this work we will be using <a href="http://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">Git hooks</a> together with Git templates.</p>

<p>So we start by creating a templates folder for git. Where does not matter.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ mkdir -p [full path]/git-templates/hooks
</pre></div>
</div>
 </figure></notextile></div>

<p>When that’s done. we need to tell git to use the template folder on each clone / checkout. We can do this by setting a global alias for clone</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git config --global alias.clone 'clone --template=[full path]/git-templates'
</pre></div>
</div>
 </figure></notextile></div>

<p>You can also do this by manually editing the .gitconfig file</p>

<blockquote><p>[alias]<br />	clone = clone &#8211;template=[full path]/git-templates</p></blockquote>

<p>So now we have a template folder that’s read on every clone / checkout. We only need to create the hook script that triggers composer.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ vi [full path]/hooks/post-checkout
</pre></div>
</div>
 </figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header" style="margin-bottom:-5px;"><span>composer_run </span></figcaption>
 <div class="CodeRay">
  <div class="code"><pre>
#! /bin/bash
# Check if a composer.json file is present
function composer_run() {
    REPO=$(readlink -m $(dirname .))
    if [ -f $REPO/composer.json ]; then
        composer install
    fi
}

composer_run
</pre></div>
</div>
 </figure></notextile></div>

<p>Finally wer need to make it executable</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ chmod +x [full path]/hooks/post-checkout
</pre></div>
</div>
 </figure></notextile></div>

<p>Let’s test it by cloning a test repo</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git clone git@github.host.tld:user/composer-hook.git foo
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>Cloning into foo&#8230;<br />remote: Counting objects: 21, done.<br />remote: Compressing objects: 100% (15/15), done.<br />remote: Total 21 (delta 5), reused 14 (delta 1)<br />Receiving objects: 100% (21/21), done.<br />Resolving deltas: 100% (5/5), done.<br />Loading composer repositories with package information<br />Installing dependencies (including require-dev)<br />  - Installing psr/log (1.0.0)<br />    Loading from cache</p><p>  - Installing monolog/monolog (1.12.0)<br />    Loading from cache</p><p>&#8230;</p></blockquote>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2015/02/composer-install-on-git-clone/#disqus_thread">Comments</a>
      
      








  


<time datetime="2015-02-27T12:46:22+01:00" pubdate data-updated="true">Feb 27<span>th</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/git/'>Git</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2015/02/octopress-blog-hijacked-by-javascript/">Octopress Blog Hijacked</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>I use <a href="http://octopress.org/">Octopress</a> to write and generate my blog. Which works pretty well most of the time. The main benefit is having a statically generated website. No database connections no code overhead. Just plain and simple text. You’d pretty much have to 0wn the server to get to the files.</p>

<p>To my surprise though my blog was redirecting to http://octophile.com when i check my blog status today. That was pretty weird. So the first thing i did was check my commit logs. No changes. <a href="https://github.com/">Github</a> didn’t get owned (at least not publicly known). So what could be redirecting my site?</p>

<p>So i grepped for the domain name i was redirected to.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ grep -r 'octophile' *
</pre></div>
</div>
 </figure></notextile></div>

<p>All generated pages had a call to <a href="http://octophile.com/widgets.js">http://octophile.com/widgets.js</a>. This came from the main layout template. And was there from the start. So what was it for. I just couldn’t remember. But a quick Google search turned up the Github <a href="https://github.com/mdellanoce/octophile">project</a> page. It’s the twitter widget i used for a while. Still weird though. So let’s check the contents of the widget.js file</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header" style="margin-bottom:-5px;"><span>redirect </span></figcaption>
 <div class="CodeRay">
  <div class="code"><pre>
<span class="keyword">var</span> redir_url = <span class="string"><span class="delimiter">'</span><span class="content">http://octophile.com/</span><span class="delimiter">'</span></span>; <span class="keyword">if</span> (window != top) { top.location.href = redir_url; } <span class="keyword">else</span> { window.location = redir_url; }
</pre></div>
</div>
 </figure></notextile></div>

<p>OK that explains the redirect. Now let’s take a look the WHOIS data for the octophile domain</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
   Domain Name: OCTOPHILE.COM
   Registrar: DOMAINTIMEMACHINE.COM LLC
   Sponsoring Registrar IANA ID: 1200
   Whois Server: whois.domaintimemachine.com
   Referral URL: http://www.networksolutions.com
   Name Server: 70222-NS1.NDOVERDRIVE.COM
   Name Server: 70222-NS2.NDOVERDRIVE.COM
   Status: clientTransferProhibited http://www.icann.org/epp#clientTransferProhibited
   Updated Date: 05-feb-2015
   Creation Date: 30-jan-2014
   Expiration Date: 30-jan-2016
</pre></div>
</div>
 </figure></notextile></div>

<p>So the DNS was changed yesterday. It might be somebody hijacked the domain. But i’m not sure. Maybe the project is just discontinued. Whatever it is. It was fun to figure out what was going on. I contacted the owner of the widget. But haven’t received a reply yet.</p>

<p><strong>UPDATE</strong></p>

<p>I got a quick response from the project owner. He stopped working on it a long time ago. And i probably should have cleaned up my templates. Good thing no evil javascript was injected :)</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2015/02/octopress-blog-hijacked-by-javascript/#disqus_thread">Comments</a>
      
      








  


<time datetime="2015-02-06T15:46:53+01:00" pubdate data-updated="true">Feb 6<span>th</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2015/01/using-the-hub-in-github-pull-requests/">Using the Hub in Github - Pull Requests</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Hub is a command line tool that wraps around the <a href="https://github.com">git</a> command. It add’s some cool features that make working with git easier. The goal of this post is to show how easy it is to generate a pull request. But i’ll also quickly explain how to install <a href="https://github.com/github/hub">hub</a> itself.</p>

<p>Hub is written in <a href="https://golang.org/">Go</a>! So we need to install this to get started. You can download the latest package/source <a href="https://golang.org/dl/">here</a></p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ sudo tar -C /usr/local -xzf go$VERSION.$OS-$ARCH.tar.gz
$ vi ~/.bashrc
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>export PATH=$PATH:/usr/local/go/bin</p></blockquote>

<p>With that in place we can setup hub</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git clone https://github.com/github/hub.git
$ cd hub
$ ./script/build
$ cp hub /usr/local/bin
$ hub --version
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>git version 1.9.1<br />hub version 2.2.0-rc1-13-g111100c</p></blockquote>

<p>If you are used to the git command like me. It might be a good idea to setup a alias for hub</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ vi ~/.bashrc
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>alias git=hub</p></blockquote>

<p>One other thing i had to do because we work with the <a href="https://enterprise.github.com/">Github Enterprise Edition</a>. Is to whtelist our github host.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git config --global --add hub.host github.dome.domain
</pre></div>
</div>
 </figure></notextile></div>

<p>Creating a pull request with hub is as easy as using the Github web gui. We start of with creating a fork of an existing repository</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git clone git@github.some.domain:user/FOO.git
$ cd FOO
$ git fork
</pre></div>
</div>
 </figure></notextile></div>

<p>This created the remote fork. And sets the correct remotes for the local repository</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git remote -v
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>origin	git@github.some.domain:user/FOO.git (fetch)<br />origin	git@github.some.domain:user/FOO.git (push)<br />me	git@github.some.domain:me/FOO.git (fetch)<br />me	git@github.some.domain:me/FOO.git (push)</p></blockquote>

<p>Before we can generate a pull request we ofcourse need some changes to push.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git branch bar
$ git checkout bar
$ touch BAR
$ git add BAR
$ git commit -am &quot;Add BAR&quot;
$ git push me bar
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>Total 0 (delta 0), reused 0 (delta 0)<br />To git@github.some.domain:me/FOO.git<br /> * [new branch]      bar -&gt; bar</p></blockquote>

<p>The only thing left to do is create the actual pull-request</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git pull-request
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>https://github.some.domain:user/FOO/pull/1</p></blockquote>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2015/01/using-the-hub-in-github-pull-requests/#disqus_thread">Comments</a>
      
      








  


<time datetime="2015-01-15T11:46:23+01:00" pubdate data-updated="true">Jan 15<span>th</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/development/'>Development</a>, <a class='category' href='http://blog.lenss.nl/tag/git/'>Git</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2015/01/git-view-unpushed-changes/">View Unpushed Changes in Git</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>When focus shifts to other projects. It might happen that some repository sits around for a while without being worked on. And if getting your forked repository synced isn’t a big enough problem. It might contain some unpushed changes. So this happened the other day at the office. </p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git status
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p># On branch master<br /># Your branch is ahead of &#8216;origin/master&#8217; by 16 commits.<br />#<br />nothing to commit (working directory clean)</p></blockquote>

<p>Doing a simpel push would resolve the problem. But what if some changes are not needed anymore. Or some other spec changes that allow for some further inspection. So it might be a good idea to inspect the changes before we push them to remote. And thankfully git makes this quite easy. By diffing the HEAD against remote master.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git diff origin/master..HEAD
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>diff &#8211;git a/path/library/init.php b/path/library/init.php<br />index 0c5ae45..50a2060 100644<br />&#8212; a/path/library/init.php<br />+++ b/path/library/init.php<br />@@ -8,13 +8,6 @@<br /> *       directory structure.<br /> */</p><p>-function FOO_library_autoloader( $classname )<br />-{<br />-    $classfile = str_replace(&#8220;_&#8221;, &#8220;/&#8221;, $classname) . &#8216;.php&#8217;;<br />-    if (file_exists(LIBRARY . $classfile))<br />-        require_once(LIBRARY. $classfile);<br />-}<br />-<br /> spl_autoload_register(&#8216;FOO_library_autoloader&#8217;);</p><p>&#8230;</p></blockquote>

<p>And voila. A diff of all unpushed changes. This also works for upstream repository’s. But the code has to fetched first. So before running the diff command. Do this</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git fetch upstream master
$ git diff upstream/master..HEAD
</pre></div>
</div>
 </figure></notextile></div>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2015/01/git-view-unpushed-changes/#disqus_thread">Comments</a>
      
      








  


<time datetime="2015-01-12T12:27:32+01:00" pubdate data-updated="true">Jan 12<span>th</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/development/'>Development</a>, <a class='category' href='http://blog.lenss.nl/tag/git/'>Git</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2014/09/secure-cloud-storage-with-google-and-encfs-on-ubuntu/">Secure Cloud Storage With Google and Encfs on Ubuntu</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Before we start let me say that I am not a big fan of storing private data in the cloud. And even if you do there might be better solutions to protect your data then what i will describe here.</p>

<p>I’ve chosen to use Google drive for this example. So there will be some Google drive specifics. But this should work with practically any cloud storage provider.</p>

<p>First you are going to have to have a application available that can mount your cloud storage as a local resource. I have chosen to use <a href="https://www.insynchq.com">Insync</a>. But you could use something like <a href="https://github.com/Grive/grive">Grive</a> instead. </p>

<p>Setup <a href="http://www.arg0.net/encfs">EncFS</a>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ sudo apt-get install encfs
</pre></div>
</div>
 </figure></notextile></div>

<p>Install a cloud sync tool:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ sudo dpkg -i insync_1.0.32.31767-trusty_amd64.deb
</pre></div>
</div>
 </figure></notextile></div>

<p>When the initial sync is done we have all the ingredients ready. So it’s time to create some encrypted space inside the cloud container. No need to create a directory because encfs will do this as well.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ encfs ~/[some-path]/[user]/encrypted ~/Private
</pre></div>
</div>
 </figure></notextile></div>

<p>Store the encryption key in a save place. And we are done with the encryption part. The only thing to do is setup auto mounting.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ hg clone http://bitbucket.org/obensonne/gnome-encfs
$ cd gnome-encfs
$ sudo install gnome-encfs /usr/local/bin
$ gnome-encfs -a ~/[some-path]/[user]/encrypted ~/Private
</pre></div>
</div>
 </figure></notextile></div>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2014/09/secure-cloud-storage-with-google-and-encfs-on-ubuntu/#disqus_thread">Comments</a>
      
      








  


<time datetime="2014-09-29T00:16:32+02:00" pubdate data-updated="true">Sep 29<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/cloud/'>Cloud</a>, <a class='category' href='http://blog.lenss.nl/tag/security/'>Security</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2013/11/first-weekday-of-month-in-php/">Get the First Weekday of the Month in PHP</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>A simple method to return the first weekdsay of a given month and year</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption class="code-header" style="margin-bottom:-5px;"><span>getFirstWeekdayInMonth </span></figcaption>
 <div class="CodeRay">
  <div class="code"><pre>
<span class="keyword">private</span> <span class="keyword">function</span> <span class="function">_getFirstWeekdayInMonth</span>(<span class="local-variable">$month</span>, <span class="local-variable">$year</span>, <span class="local-variable">$day</span> = <span class="integer">1</span>) 
{
    <span class="local-variable">$dateData</span> = <span class="predefined">getdate</span>(<span class="predefined">mktime</span>(<span class="predefined-constant">null</span>, <span class="predefined-constant">null</span>, <span class="predefined-constant">null</span>, <span class="local-variable">$month</span>, <span class="local-variable">$day</span>, <span class="local-variable">$year</span>));
    <span class="keyword">if</span> (<span class="predefined">in_array</span>(<span class="local-variable">$dateData</span>[<span class="string"><span class="delimiter">'</span><span class="content">wday</span><span class="delimiter">'</span></span>], <span class="predefined">range</span>(<span class="integer">1</span>, <span class="integer">5</span>))) {
        <span class="keyword">return</span> <span class="local-variable">$dateData</span>[<span class="string"><span class="delimiter">'</span><span class="content">mday</span><span class="delimiter">'</span></span>];
    }
    <span class="keyword">return</span> <span class="local-variable">$this</span>-&gt;_getFirstWeekdayInMonth(<span class="local-variable">$month</span>, <span class="local-variable">$year</span>, (<span class="local-variable">$day</span>+<span class="integer">1</span>));
}

<span class="local-variable">$wday</span> = <span class="local-variable">$this</span>-&gt;_getFirstWeekdayInMonth(<span class="integer">11</span>, <span class="integer">2013</span>);
</pre></div>
</div>
 </figure></notextile></div>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2013/11/first-weekday-of-month-in-php/#disqus_thread">Comments</a>
      
      








  


<time datetime="2013-11-15T11:05:53+01:00" pubdate data-updated="true">Nov 15<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2013/10/git-move-folder-containing-submodules/">Renaming a Folder in Git That Contains Submodules</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>Because of some project structure changes. It was required to renamed some folders. In git this should be as easy as running <strong>git mv</strong>. But when the folders you are trying to move contain submodules. Its a whole different story.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git mv old/ new
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>fatal: source directory is empty, source=old/cookbooks/apache2, destination=new/cookbooks/apache2</p></blockquote>

<p>Like i said. This seems to work for normal folders. But submodules are a bit more complicated because of paths set in various files. So let’s try just moving them on the filesystem.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ mv old/ new
$ git status
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>#	deleted:    old/VVagrantfile.example<br />#	deleted:    old/cookbooks/apache2<br />#	deleted:    old/cookbooks/apt<br />#	deleted:    old/cookbooks/beanstalkd/.travis.yml</p></blockquote>

<p>That’s not what we’re looking for. We want to move the files. Not remove them. At this point i was at a loss and spend some time looking around <a href="http://stackoverflow.com/">stackoverflow</a>. Which has multiple solutions available from other developers. But none seemed to fit the bill. So i ended up combining a couple.</p>

<p>First create the new location and add it to the git index.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ mkdir new
$ git add new
</pre></div>
</div>
 </figure></notextile></div>

<p>In my case i had normal folders and submodules in the same directory. So first i moved the normal folders to the new structure.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git mv old/[some folder] /new
</pre></div>
</div>
 </figure></notextile></div>

<p>Now it’s time for the submodules. We need to update the paths in each submodule’s <strong>.git</strong> file. And the paths in project <strong>.gitmodule</strong> file</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ find . -name .git -type f -print0 -type f | xargs -0 sed -i 's|old|new|g'
$ find . -name .gitmodule -type f -print0 -type f | xargs -0 sed -i 's|old|new|g'
</pre></div>
</div>
 </figure></notextile></div>

<p>After that add the <strong>.gitmodule</strong> file to the git index and checkout the status</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git add .gitmodule
$ git status 
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>fatal: Could not chdir to &#8216;../../../../../new/cookbooks/apache2&#8217;: No such file or directory<br />fatal: &#8216;git status &#8211;porcelain&#8217; failed in submodule old/cookbooks/apache2</p></blockquote>

<p>So we’re not there yet. As it turns out the git config file also contains the submodule paths. And the <strong>.git/modules</strong> folder contains a submodule mapping as well. So let’s fix that</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ find . -name config -print0 -type f | xargs -0 sed -i 's|old|new|g'
$ mv .git/modules/old .git/modules/new
$ git status
</pre></div>
</div>
 </figure></notextile></div>

<p>That looks good</p>

<blockquote><p>modified:   .gitmodules<br />#	renamed:    old/Vagrantfile.example -&gt; new/Vagrantfile.example<br />#	renamed:    old/cookbooks/apache2 -&gt; new/cookbooks/apache2<br />#	renamed:    old/cookbooks/apt -&gt; new/cookbooks/apt<br />#	renamed:    old/cookbooks/beanstalkd/.travis.yml -&gt; new/cookbooks/beanstalkd/.travis.yml</p></blockquote>

<p>Now we can remove the old folder from the git project and commit the changes.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git rm -r --cached old/
$ git commit -a -m &quot;Moved old to new folder&quot;
$ git push
</pre></div>
</div>
 </figure></notextile></div>

</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2013/10/git-move-folder-containing-submodules/#disqus_thread">Comments</a>
      
      








  


<time datetime="2013-10-23T13:05:12+02:00" pubdate data-updated="true">Oct 23<span>rd</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/git/'>Git</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2013/10/clover-forcast-for-php-in-jenkins/">Fixing the Clover Forcast for PHP Projects in Jenkins</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>I had the opportunity to play with <a href="http://jenkins-ci.org/">Jenkins</a> again last week. And the setup for our projects went pretty smooth. But the fact that no matter what i tried. The <a href="https://wiki.jenkins-ci.org/display/JENKINS/Clover+PHP+Plugin">clover</a> forecast icon would always show up as rainy <a href="http://blog.lenss.nl/images/20013/10/health-20to39.png"><img src="http://blog.lenss.nl/images/2013/10/health-20to39.png" alt="" /></a>. While the build was succeeding without issues. So i spend some time googling and trying out multiple “fixes”. Of which none seemed to actually work. I even reverted back to using the Jenkins clover plugins instead of Clover for PHP. No difference at all.</p>

<p>It seemed as if the settings from the config page were completely ignored when calculating the clover status. This was really bugging me. So i checked out the clover plugin source from <a href="https://github.com/jenkinsci/cloverphp-plugin">github</a>. And browsed through the code for a while. When i found the beauty below inside <strong>CoverageTarget.java</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="directive">public</span> <span class="predefined-type">Set</span>&lt;CoverageMetric&gt; getFailingMetrics(AbstractClassMetrics coverage) {
    <span class="predefined-type">Set</span>&lt;CoverageMetric&gt; result = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;CoverageMetric&gt;();

    <span class="keyword">if</span> (methodCoverage != <span class="predefined-constant">null</span> &amp;&amp; coverage.getMethodCoverage().getPercentage() &lt; methodCoverage) {
        result.add(CoverageMetric.METHOD);
    }

    <span class="keyword">if</span> (statementCoverage != <span class="predefined-constant">null</span> &amp;&amp; coverage.getStatementCoverage().getPercentage() &lt; statementCoverage) {
        result.add(CoverageMetric.STATEMENT);
    }

    <span class="keyword">if</span> (elementCoverage != <span class="predefined-constant">null</span> &amp;&amp; coverage.getElementCoverage().getPercentage() &lt; elementCoverage) {
        result.add(CoverageMetric.ELEMENT);
    }

    <span class="keyword">return</span> result;
}
</pre></div>
</div>
 </figure></notextile></div>

<p>So it seems as if somewhere in the plugin it’s actually calculating the average of the coverage per setting. The strange thing in the method above however is the <strong>elementCoverage</strong> setting. Which is not available in the Jenkins config interface. And causes issues because we have no influence over this setting.</p>

<p>So i added the setting to the config manually</p>

<blockquote><p>$ vi /var/lib/jenkins/jobs/[project]/config.xml</p></blockquote>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
<span class="tag">&lt;org.jenkinsci.plugins.cloverphp.CloverPHPPublisher</span> <span class="attribute-name">plugin</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">cloverphp@0.3.3</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
...
      <span class="tag">&lt;healthyTarget&gt;</span>
        <span class="tag">&lt;methodCoverage&gt;</span>20<span class="tag">&lt;/methodCoverage&gt;</span>
        <span class="tag">&lt;statementCoverage&gt;</span>20<span class="tag">&lt;/statementCoverage&gt;</span>
        <span class="tag">&lt;elementCoverage&gt;</span>20<span class="tag">&lt;/elementCoverage&gt;</span>
      <span class="tag">&lt;/healthyTarget&gt;</span>
...
<span class="tag">&lt;/org.jenkinsci.plugins.cloverphp.CloverPHPPublisher&gt;</span>
</pre></div>
</div>
 </figure></notextile></div>

<p>And voilà. I nice sunny <a href="http://blog.lenss.nl/images/20013/10/health-80plus.png"><img src="http://blog.lenss.nl/images/2013/10/health-80plus.png" alt="" /></a> forecast. Now let’s see if i have some time to write a patch for this.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2013/10/clover-forcast-for-php-in-jenkins/#disqus_thread">Comments</a>
      
      








  


<time datetime="2013-10-15T12:26:23+02:00" pubdate data-updated="true">Oct 15<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/jenkins/'>Jenkins</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2013/08/github-and-multiple-ssh-keys/">Github, SSH and Multiple Repositories</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>When working with <a href="http://github.com">Github</a>. Setting up SSH key based authentication is easy. You just create a key. Add the public key in the admin panel and voilà. If a new contributor joins your team. You add his / her key and they also have access.</p>

<p>But how does it work when you have need access to multiple repositories using multiple keys yourself? I had to set this up a couple of times. And it turns out to be just as easy. But if for some reason it’s not that obvious these steps might help.</p>

<p>Let’s pretend we need some key first.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ ssh-keygen -t rsa -b 4096
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>Generating public/private rsa key pair.<br />Enter file in which to save the key (/home/user/.ssh/id_rsa): repo1_rsa<br />Enter passphrase (empty for no passphrase):<br />Enter same passphrase again:</p><p>Your identification has been saved in repo1_rsa.<br />Your public key has been saved in repo1_rsa.pub.<br />The key fingerprint is:<br />03:b5:da:08:3b:6f:9a:29:3f:f5:4c:ee:5d:14:cb:41 user@host<br />The key&#8217;s randomart image is:<br />+&#8211;[ RSA 4096]&#8212;-+<br />   some output<br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+</p></blockquote>

<p>This will generate the public and private key for <strong>repo1</strong>. Now repeat the same thing for <strong>repo2</strong>. Make sure the keys reside in <strong>~/.ssh</strong></p>

<p>Now let’s say we have access to two repositories under two different users / companies. We will use <strong>github.com/repo1</strong> and <strong>github.com/repo2</strong> as examples. The only thing we have to do is add some entries to <strong>~/.ssh/config</strong> to make this work. They key is to use the Github sub-domain mappings</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ vi ~/.ssh/config
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>Host&nbsp;&nbsp;&nbsp;&nbsp;repo1.github.com<br />&nbsp;&nbsp;&nbsp;&nbsp;HostName github.com<br />&nbsp;&nbsp;&nbsp;&nbsp;PreferredAuthentications publickey<br />&nbsp;&nbsp;&nbsp;&nbsp;IdentityFile	~/.ssh/repo1_rsa</p><p>Host&nbsp;&nbsp;&nbsp;&nbsp;repo2.github.com<br />&nbsp;&nbsp;&nbsp;&nbsp;HostName github.com<br />&nbsp;&nbsp;&nbsp;&nbsp;PreferredAuthentications publickey<br />&nbsp;&nbsp;&nbsp;&nbsp;IdentityFile	~/.ssh/repo2_rsa</p></blockquote>

<p>Save the file and we’re done. Now to checkout a project in one of the repositories. Do the following.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
$ git clone git@repo1.github.com:repo1/project.git
</pre></div>
</div>
 </figure></notextile></div>

<blockquote><p>Cloning into &#8216;project&#8217;&#8230;<br />remote: Counting objects: 86, done.<br />remote: Compressing objects: 100% (66/66), done.<br />remote: Total 86 (delta 27), reused 64 (delta 17)<br />Receiving objects: 100% (86/86), 34.83 KiB, done.<br />Resolving deltas: 100% (27/27), done.</p></blockquote>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2013/08/github-and-multiple-ssh-keys/#disqus_thread">Comments</a>
      
      








  


<time datetime="2013-08-22T00:02:09+02:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/git/'>Git</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>
  
</span>


    </p>
  </footer>
  </article>
  
  
  <article>
  
<header>
	<header>
	
	  <h1 class="entry-title"><a href="http://blog.lenss.nl/2013/07/memory-exhaust-issue-PHP-and-APM/">Memory Exhaust Issue PHP and APM</a></h1>
	
	</header>
</header>


  <div class="articletext"><p>A while back i wrote a small data aggregator that would do some background processing and populate a database with it’s calculated results. The main reason to implement this was that running the queries in real-time on the production server was causing memory exhaust issues. Once the new feature was done and deployed. We quickly noticed we were running into the same kind of issues again. And the script would halt almost each time it was executed.</p>

<blockquote><p>Fatal error: Allowed memory size of xxxxxxxxx bytes exhausted (tried toallocate xxxxx bytes) in</p></blockquote>

<p>After some hacking and optimization tricks. The script’s memory consumption seemed stable enough to deploy it to production. However. Each time we deployed it. We were hit by memory exhaust issues almost instantly. Time to do some debugging and code tracing.</p>

<p>And we’re able to narrow it down to a single mysql<em>* (don’t get me started on the mysql</em>* functions, so let’s ignore that for now) call. Namely  <a href="http://php.net/manual/en/function.mysql-fetch-field.php">mysql_fetch_field</a>. Why on earth would this generate a memory exhaust issue on the server you might think. And that’s exactly what we were thinking. </p>

<p>The problem was. That the offset passed in as the field offset was incorrect. And resulted in a notice. These notices however were suppressed with the @ symbol. And therefor never noticeable during development. But that’s no reason for memory exhaust issues… right?</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="CodeRay">
  <div class="code"><pre>
@mysql_fetch_field($result, $offset);
</pre></div>
</div>
 </figure></notextile></div>

<p>Right! Further inspection showed that in production PHP’s <a href="http://code.google.com/p/peclapm/">APM</a> extension was loaded and active. And this was the real problem behind the memory exhaust issue. Thousands of queries were executed. And almost all of them were throwing an error notice for the fetch field function. Which was ignored by the @ symbol. But APM was still logging them. And apparently had a very hard time keeping up. </p>

<p>It looks like a bug in APM. But that’s another story. The issue was fixed by passing in the correct offset of course. Another nice example of logging bringing down a production server.</p>
</div>
  
  


<div style="clear:both;"></div>

  <footer>
     <p class="meta">
      <a href="http://blog.lenss.nl/2013/07/memory-exhaust-issue-PHP-and-APM/#disqus_thread">Comments</a>
      
      








  


<time datetime="2013-07-03T11:57:43+02:00" pubdate data-updated="true">Jul 3<span>rd</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='http://blog.lenss.nl/tag/code/'>Code</a>, <a class='category' href='http://blog.lenss.nl/tag/php/'>PHP</a>, <a class='category' href='http://blog.lenss.nl/tag/tech/'>Tech</a>
  
</span>


    </p>
  </footer>
  </article>
  

  <ul class="pager">
    
    <li><a href="http://blog.lenss.nl/page/2/">&larr; Older</a></li>
    
    
  </ul>

  <div class="blog-copy">
      Copyright &copy; 2015 - Thijs Lensselink -
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  </div>
</div>

	      </div>
	  </div>

        </div>

        <div class="col-sm-4 col-sm-offset-0 blog-sidebar">
	    <div id="sidebar">
	       
	           
<div class="sidebox">
	<div class="me">
		<a href="http://www.zend.com/store/education/certification/yellow-pages.php#show-ClientCandidateID=ZEND006598"><img src="http://blog.lenss.nl/images/php5-zce-logo-new.gif" height="50" /></a>
		<a href="http://stackoverflow.com/users/476697/tlenss">
			<img src="http://stackoverflow.com/users/flair/476697.png?theme=dark" width="179" height="50" alt="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for tlenss at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
		</a>
		<div class="gpg">
			Key ID : <a href="http://blog.lenss.nl/C773940D.asc">0xC773940D</a><br/>
			Fingerprint : 9AF2 38D6 3172 2F3E 112F 9024 C558 F5CD C773 940D
		</div>
	</div>
</div>

<section>
  <div class="sidebox">
	<h1>Recent entries</h1>
	<ul class="linklist">
		
		<li><a href="http://blog.lenss.nl/2015/02/composer-install-on-git-clone/">Run Composer on Git clone</a></li>
		
		<li><a href="http://blog.lenss.nl/2015/02/octopress-blog-hijacked-by-javascript/">Octopress blog hijacked</a></li>
		
		<li><a href="http://blog.lenss.nl/2015/01/using-the-hub-in-github-pull-requests/">Using the hub in Github - pull requests</a></li>
		
		<li><a href="http://blog.lenss.nl/2015/01/git-view-unpushed-changes/">View unpushed changes in git</a></li>
		
		<li><a href="http://blog.lenss.nl/2014/09/secure-cloud-storage-with-google-and-encfs-on-ubuntu/">Secure cloud storage with Google and encfs on Ubuntu</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/11/first-weekday-of-month-in-php/">Get the first weekday of the month in PHP</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/git-move-folder-containing-submodules/">Renaming a folder in git that contains submodules</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/10/clover-forcast-for-php-in-jenkins/">Fixing the clover forcast for PHP projects in Jenkins</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/08/github-and-multiple-ssh-keys/">Github, SSH and multiple repositories</a></li>
		
		<li><a href="http://blog.lenss.nl/2013/07/memory-exhaust-issue-PHP-and-APM/">Memory exhaust issue PHP and APM</a></li>
		
	</ul>
</div>
</section>

<div class="sidebox ad">
	<script type="text/javascript"><!--
	google_ad_client = "ca-pub-0921745317573569";
	/* nlblue_side */
	google_ad_slot = "7706621160";
	google_ad_width = 300;
	google_ad_height = 250;
	//-->
	</script>
	<script type="text/javascript"
	src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
</div>
<div class="sidebox">
	<h1>Tags</h1>
	<ul id="tag-cloud" class="blocklist"><a href='http://blog.lenss.nl/tag/-home' style='font-size: 119.79381443298969%'>/home(32)</a> <a href='http://blog.lenss.nl/tag/cloud' style='font-size: 100.61855670103093%'>Cloud(1)</a> <a href='http://blog.lenss.nl/tag/code' style='font-size: 160.0%'>Code(97)</a> <a href='http://blog.lenss.nl/tag/design' style='font-size: 102.47422680412372%'>Design(4)</a> <a href='http://blog.lenss.nl/tag/development' style='font-size: 101.23711340206185%'>Development(2)</a> <a href='http://blog.lenss.nl/tag/freelance' style='font-size: 102.47422680412372%'>Freelance(4)</a> <a href='http://blog.lenss.nl/tag/git' style='font-size: 103.09278350515464%'>Git(5)</a> <a href='http://blog.lenss.nl/tag/google' style='font-size: 101.85567010309278%'>Google(3)</a> <a href='http://blog.lenss.nl/tag/javascript' style='font-size: 104.94845360824742%'>Javascript(8)</a> <a href='http://blog.lenss.nl/tag/jenkins' style='font-size: 100.61855670103093%'>Jenkins(1)</a> <a href='http://blog.lenss.nl/tag/jquery' style='font-size: 101.23711340206185%'>Jquery(2)</a> <a href='http://blog.lenss.nl/tag/magento' style='font-size: 101.23711340206185%'>Magento(2)</a> <a href='http://blog.lenss.nl/tag/php' style='font-size: 142.68041237113403%'>PHP(69)</a> <a href='http://blog.lenss.nl/tag/security' style='font-size: 105.56701030927834%'>Security(9)</a> <a href='http://blog.lenss.nl/tag/sql' style='font-size: 103.71134020618557%'>SQL(6)</a> <a href='http://blog.lenss.nl/tag/tech' style='font-size: 160.0%'>Tech(97)</a> <a href='http://blog.lenss.nl/tag/zend' style='font-size: 104.94845360824742%'>Zend(8)</a> </ul>
	<div style="clear:both;"></div>
</div>
<section>
  <div class="sidebox">
	<h1>GitHub Repos</h1>
	
	<ul class="linklist" id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/tlenss" class="github-follow-button">Follow On GitHub</a>
  
</div>
</section>


<section>
  <div class="sidebox">
	<!-- <h1>Latest Tweets</h1> -->
<a class="twitter-timeline" href="https://twitter.com/tlenss" data-widget-id="408894330036703232">Tweets by @tlenss</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
</section>


	       
	    </div>
        </div>

      </div>

    </div>

    <script src="http://blog.lenss.nl/javascripts/jquery-2.1.0.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/bootstrap-3.1.1.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/modernizr-2.0.js"></script>
    <script src="http://blog.lenss.nl/javascripts/ender.js"></script>
    <script src="http://blog.lenss.nl/javascripts/octopress.js"></script>
    <script src="http://blog.lenss.nl/javascripts/github.js"></script>
    <script src="http://blog.lenss.nl/javascripts/twitter.js"></script>
    <script src="http://blog.lenss.nl/javascripts/jquery.cookie.min.js"></script>
    <script src="http://blog.lenss.nl/javascripts/adn-timeline.js"></script>
    <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = 'http://blog.lenss.nl/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tlenss',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8003524-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  </body>
</html>
